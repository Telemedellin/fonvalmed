function frmFrontFormJS(){"use strict";function setNextPage(e){var t=jQuery(this),i=t.attr("type");"submit"!==i&&e.preventDefault();var r=t.parents("form:first"),n="",a="",l=this.name;"frm_prev_page"===l||-1!==this.className.indexOf("frm_prev_page")?n=jQuery(r).find(".frm_next_page").attr("id").replace("frm_next_p_",""):("frm_save_draft"===l||-1!==this.className.indexOf("frm_save_draft"))&&(a=1),jQuery(".frm_next_page").val(n),jQuery(".frm_saving_draft").val(a),"submit"!==i&&r.trigger("submit")}function toggleSection(){jQuery(this).parent().children(".frm_toggle_container").slideToggle("fast"),jQuery(this).toggleClass("active").children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s").toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e")}function showFileUploadText(){this.className=this.className.replace("frm_transparent","");var e=this.parentNode.getElementsByTagName("a")[0].className;-1==e.indexOf("frm_clear_file_link")&&(e+=" frm_hidden")}function showOtherText(){var e=this.type,t=!1,i=!1;if("select-one"===e){i=!0;var r=this.options[this.selectedIndex];"frm_other_trigger"===r.className&&(t=!0)}else if("select-multiple"===e){i=!0;var n=this.options;t=!1;for(var a=0;a<n.length;a++)if("frm_other_trigger"===n[a].className&&n[a].selected){t=!0;break}}if(i){var l=jQuery(this).parent().children(".frm_other_input");l.length&&(t?l[0].className=l[0].className.replace("frm_pos_none",""):(l[0].className.indexOf("frm_pos_none")<1&&(l[0].className=l[0].className+" frm_pos_none"),l[0].value=""))}else"radio"===e?jQuery(this).is(":checked")&&(jQuery(this).closest(".frm_radio").children(".frm_other_input").removeClass("frm_pos_none"),jQuery(this).closest(".frm_radio").siblings().children(".frm_other_input").addClass("frm_pos_none").val("")):"checkbox"===e&&(this.checked?jQuery(this).closest(".frm_checkbox").children(".frm_other_input").removeClass("frm_pos_none"):jQuery(this).closest(".frm_checkbox").children(".frm_other_input").addClass("frm_pos_none").val(""))}function maybeCheckDependent(e){var t=getFieldId(this);if(t&&"undefined"!=typeof t){var i="reset";if(e.frmTriggered){if(e.frmTriggered==t)return;i="persist"}checkDependentField(t,null,jQuery(this),i),doCalculation(t,jQuery(this))}}function getFieldId(e,t){var i="";i=e instanceof jQuery?e.attr("name"):e.name;var r=i.replace("item_meta[","").replace("[]","").split("]");if(r.length<1)return 0;r=r.filter(function(e){return""!==e});var n=r[0],a=!1;return 1===r.length||"[form"==r[1]?n:(jQuery('input[name="item_meta['+n+'][form]"]').length&&(n=r[2].replace("[",""),a=!0),"other"===n&&(n=a?r[3].replace("[",""):r[1].replace("[","")),t===!0&&(n=n+"-"+r[0]+"-"+r[1].replace("[","")),n)}function checkDependentField(e,t,i,r){var n=getRulesForField(e);if("undefined"!=typeof n){("undefined"==typeof t||null===t)&&(t="go"),"persist"!==r&&(show_fields=[],hidden_fields=[]);for(var a=maybeSetRowId(i),l=n.length,d=0,o=l;o>d;d++)n[d].FieldName===e?hideOrShowField(d,n[d],t,i):hideOrShowField(d,n[d],t),d===l-1&&(hideFieldLater(t),a&&(addingRow=""))}}function maybeSetRowId(e){var t=!1;if(""===addingRow&&"undefined"!=typeof e&&null!==e){e=maybeGetFirstElement(e);var i=e.closest(".frm_repeat_sec, .frm_repeat_inline, .frm_repeat_grid");"undefined"!=typeof i&&"undefined"!=typeof i.attr("id")&&(addingRow=i.attr("id"),t=!0)}return t}function getRulesForField(e){if("undefined"!=typeof __FRMRULES&&"undefined"!=typeof __FRMRULES[e]){var t=compileRules(__FRMRULES[e]);return t}}function compileRules(e){for(var t=[],i=0,r=e.length;r>i;i++){var n=e[i];if("undefined"!=typeof n)for(var a=0,l=n.Conditions.length;l>a;a++){var d=n.Conditions[a];d.HideField=n.Setting.FieldName,d.MatchType=n.MatchType,d.Show=n.Show,d.FormId=n.FormId,t.push(d)}}return t}function hideOrShowField(e,t,i,r){if(t.inputName="item_meta["+t.FieldName+"]",t.hiddenName="item_meta["+t.HideField+"]",t.containerID="frm_field_"+t.FieldName+"_container",t.hideContainerID="frm_field_"+t.HideField+"_container",""!==addingRow)return void checkRepeatingFieldInSingleRow(e,t,i,addingRow);if(("undefined"==typeof r||null===r)&&(r=jQuery('input[name^="'+t.inputName+'"], textarea[name^="'+t.inputName+'"], select[name^="'+t.inputName+'"]'),r.length<1))return void checkLogicForTwoRepeatingFields(e,t,i);var n=getBasicEnteredValue(t);return isRepeatingFieldById(t.HideField)?void checkLogicForRepeatingHideField(e,t,n,i):(setEmptyKeyInShowFieldsArray(t),updateShowFields(e,t,n),void hideFieldNow(e,t,i))}function checkRepeatingFieldInSingleRow(e,t,i,r){isRepeatingFieldById(t.FieldName)&&(t.inputName=getRepeatingFieldName(t.FieldName,r),t.containerID=getRepeatingFieldHtmlId(t.FieldName,r)),t.hideContainerID=getRepeatingFieldHtmlId(t.HideField,r);var n=getBasicEnteredValue(t);setEmptyKeyInShowFieldsArray(t),updateShowFields(e,t,n),hideFieldNow(e,t,i)}function checkLogicForTwoRepeatingFields(e,t,i){for(var r=document.getElementsByClassName("frm_field_"+t.FieldName+"_container"),n=0;n<r.length;n++){t.inputName=getRepeatingFieldName(t.FieldName,r[n].id),t.containerID=r[n].id,t.hideContainerID=r[n].id.replace(t.FieldName,t.HideField);var a=getBasicEnteredValue(t);setEmptyKeyInShowFieldsArray(t),updateShowFields(e,t,a),hideFieldNow(e,t,i)}}function checkLogicForRepeatingHideField(e,t,i,r){for(var n=document.getElementsByClassName("frm_field_"+t.HideField+"_container"),a=0;a<n.length;a++)t.hideContainerID=n[a].id,setEmptyKeyInShowFieldsArray(t),updateShowFields(e,t,i),hideFieldNow(e,t,r)}function getBasicEnteredValue(e){var t="";if("checkbox"===e.Type||"data-checkbox"===e.Type){var i=getCheckedVal(e.containerID,e.inputName);return t=i.length?i:""}return t=jQuery('input[name="'+e.inputName+'"][type="hidden"]').val(),"undefined"!=typeof t?t:(t="radio"==e.Type||"data-radio"===e.Type?jQuery('input[name="'+e.inputName+'"]:checked').val():"select"===e.Type||"data-select"===e.Type?jQuery('select[name^="'+e.inputName+'"]').val():jQuery('input[name="'+e.inputName+'"]').val(),"undefined"==typeof t&&(t=""),t)}function setEmptyKeyInShowFieldsArray(e){"undefined"==typeof show_fields[e.hideContainerID]&&(show_fields[e.hideContainerID]=[])}function updateShowFields(e,t,i){show_fields[t.hideContainerID][e]=null===i||""===i||i.length<1?!1:{funcName:"getDataOpts",f:t,sel:i},"checkbox"===t.Type||"data-checkbox"===t.Type&&"undefined"==typeof t.LinkedField?updateShowFieldsForCheckbox(e,t,i):"undefined"!=typeof t.LinkedField&&0===t.Type.indexOf("data-")?updateShowFieldsForDynamicField(e,t,i):"undefined"==typeof t.Value&&0===t.Type.indexOf("data")?(t.Value=""===i?"1":i,show_fields[t.hideContainerID][e]=operators(t.Condition,t.Value,i),t.Value=void 0):show_fields[t.hideContainerID][e]=operators(t.Condition,t.Value,i)}function updateShowFieldsForCheckbox(e,t,i){show_fields[t.hideContainerID][e]=!1;var r=!1;if(""!==i){"!="===t.Condition&&(show_fields[t.hideContainerID][e]=!0);for(var n=0;n<i.length;n++)r=operators(t.Condition,t.Value,i[n]),"!="===t.Condition?show_fields[t.hideContainerID][e]===!0&&r===!1&&(show_fields[t.hideContainerID][e]=!1):show_fields[t.hideContainerID][e]===!1&&r&&(show_fields[t.hideContainerID][e]=!0)}else r=operators(t.Condition,t.Value,""),show_fields[t.hideContainerID][e]===!1&&r&&(show_fields[t.hideContainerID][e]=!0)}function updateShowFieldsForDynamicField(e,t,i){("undefined"==typeof t.DataType||"data"===t.DataType)&&(""===i?hideAndClearDynamicField(t.hideContainerID,t.HideField,"hide"):"data-radio"===t.Type?show_fields[t.hideContainerID][e]="undefined"==typeof t.DataType?operators(t.Condition,t.Value,i):{funcName:"getData",f:t,sel:i}:"data-checkbox"===t.Type||"data-select"===t.Type&&isNotEmptyArray(i)?(hideAndClearDynamicField(t.hideContainerID,t.HideField,"show"),show_fields[t.hideContainerID][e]=!0,getData(t,i,0)):"data-select"===t.Type&&(show_fields[t.hideContainerID][e]={funcName:"getData",f:t,sel:i}))}function hideFieldNow(e,t,i){if("all"===t.MatchType||show_fields[t.hideContainerID][e]===!1)return void hide_later.push({result:show_fields[t.hideContainerID][e],show:t.Show,match:t.MatchType,FieldName:t.FieldName,HideField:t.HideField,hideContainerID:t.hideContainerID,FormId:t.FormId});var r="none";if("show"===t.Show){if(show_fields[t.hideContainerID][e]!==!0)return void showField(show_fields[t.hideContainerID][e],t.FieldName,i);r=""}var n=jQuery(document.getElementById(t.hideContainerID));"none"==r?routeToHideFieldAndClearVal(n,t):routeToShowFieldAndSetVal(n,t)}function hideFieldLater(e){jQuery.each(hide_later,function(t,i){if(delete hide_later[t],"undefined"!=typeof i&&"undefined"!=typeof i.result){var r=jQuery("#"+i.hideContainerID),n=i.show;("any"===i.match&&-1===jQuery.inArray(!0,show_fields[i.hideContainerID])||"all"===i.match&&jQuery.inArray(!1,show_fields[i.hideContainerID])>-1)&&(n="show"===i.show?"hide":"show"),"show"===n?(routeToShowFieldAndSetVal(r,i),typeof i.result!==!1&&typeof i.result!==!0&&showField(i.result,i.FieldName,e)):routeToHideFieldAndClearVal(r,i)}})}function routeToHideFieldAndClearVal(e,t){if(e.length)hideFieldAndClearValue(e,t);else{var i=getFieldName(t.HideField,t.hideContainerID),r=jQuery('input[name^="'+i+'"]');clearValueForInputs(r)}addToHideFields(t.hideContainerID,t.FormId)}function hideFieldAndClearValue(e,t){if(e.hide(),-1===jQuery.inArray(e.attr("id"),hidden_fields)){var i=t.HideField;hidden_fields[i]=e.attr("id");var r=getInputsInContainer(e);r.length&&clearValueForInputs(r)}}function clearValueForInputs(e){e.prop("checked",!1).prop("selectedIndex",0),e.not(":checkbox, :radio, select").val("");var t=!1;e.each(function(){if("SELECT"==this.tagName){var e=document.getElementById(this.id+"_chosen");null!==e&&jQuery(this).trigger("chosen:updated")}(t===!1||["checkbox","radio"].indexOf(this.type)<0)&&triggerChange(jQuery(this)),t=!0})}function addToHideFields(e,t){var i=document.getElementById("frm_hide_fields_"+t),r=i.value;r=r?JSON.parse(r):[],r.indexOf(e)>-1||(r.push(e),r=JSON.stringify(r),i.value=r)}function hideAndClearDynamicField(e,t,i){-1===jQuery.inArray(e,hidden_fields)&&(hidden_fields[t]=e,e=jQuery(document.getElementById(e)),"hide"===i&&e.hide(),e.find(".frm_data_field_container").empty())}function routeToShowFieldAndSetVal(e,t){if(e.length)showFieldAndSetValue(e,t);else{var i=getFieldName(t.HideField,t.hideContainerID),r=jQuery('input[name^="'+i+'"]');setValForInputs(r)}removeFromHideFields(t.hideContainerID,t.FormId)}function showFieldAndSetValue(e){var t=getInputsInContainer(e);setValForInputs(t),e.show()}function setValForInputs(e){if(e.length)for(var t=0;t<e.length;t++)setDefaultValue(jQuery(e[t])),maybeDoCalcForSingleField(e[t])}function setDefaultValue(e){var t=e.length;if(e.is(":checkbox, :radio")){if(e.is(":checked"))return}else if(e.val())return;if(t)for(var i=0,r=t;r>i;i++){var n=jQuery(e[i]),a=n.data("frmval");"undefined"!=typeof a&&(n.is(":checkbox, :radio")?(n.val()==a||jQuery.isArray(a)&&-1!==jQuery.inArray(n.val(),a))&&(n.prop("checked",!0),triggerChange(n)):(n.val(a),triggerChange(n)))}}function removeFromHideFields(e,t){var i=document.getElementById("frm_hide_fields_"+t),r=i.value;if(r){r=JSON.parse(r);var n=r.indexOf(e);n>-1&&(r.splice(n,1),r=JSON.stringify(r),i.value=r)}}function triggerChange(e,t){"undefined"==typeof t&&(t="dependent"),e.length>1&&(e=e.eq(0)),e.trigger({type:"change",selfTriggered:!0,frmTriggered:t})}function operators(e,t,i){if("undefined"==typeof i&&(i=""),jQuery.isArray(i)&&jQuery.inArray(t,i)>-1&&(i=t),-1!==String(t).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)&&(t=parseFloat(t),i=parseFloat(i)),"-1"!=String(t).indexOf("&quot;")&&operators(e,t.replace("&quot;",'"'),i))return!0;var r={"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"<":function(e,t){return e>t},">":function(e,t){return t>e},LIKE:function(e,t){return t?-1!=t.indexOf(e):0},"not LIKE":function(e,t){return t?-1==t.indexOf(e):1}};return r[e](t,i)}function showField(e,t,i){"getDataOpts"==e.funcName?getDataOpts(e.f,e.sel,t,i):"getData"==e.funcName&&getData(e.f,e.sel,0)}function getData(e,t,i){var r=document.getElementById(e.hideContainerID),n=jQuery(r).find(".frm_data_field_container");return 0===n.length?!0:(i||n.html('<span class="frm-loading-img"></span>'),void jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_fields_ajax_get_data",entry_id:t,field_id:e.LinkedField,current_field:e.HideField,hide_id:e.hideContainerID,nonce:frm_js.nonce},success:function(e){i?n.append(e):n.html(e);var t=n.children("input"),a=t.val();return r.style.display=""===e&&!i||""===a?"none":"",triggerChange(t),!0}}))}function getDataOpts(e,t,i,r){if(!("stop"==r&&jQuery.inArray(e.HideField,frm_checked_dep)>-1&&e.parentField&&"hidden"==e.parentField.attr("type"))){var n=jQuery("#"+e.hideContainerID).find('select[name^="item_meta"], textarea[name^="item_meta"], input[name^="item_meta"]'),a=getPrevFieldValue(n),l=n.data("frmval");if("select"!=e.DataType||"stop"!=r&&!jQuery("#"+e.hideContainerID+" .frm-loading-img").length||!(jQuery.inArray(e.HideField,frm_checked_dep)>-1)){frm_checked_dep.push(e.HideField);var d=document.getElementById(e.hideContainerID),o=jQuery(d).find(".frm_data_field_container");if(0===o.length&&n.length)return checkDependentField(e.HideField,"stop",n),!1;if(""!==e.Value){var f=operators(e.Condition,e.Value,t);if(!f)return d.style.display="none",o.html(""),checkDependentField(e.HideField,"stop",n),!1}o.html('<span class="frm-loading-img" style="visibility:visible;display:inline;"></span>');var s=(e.hiddenName,e.DataType);jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_fields_ajax_data_options",hide_field:i,entry_id:t,selected_field_id:e.LinkedField,field_id:e.HideField,default_value:l,hide_id:e.hideContainerID,nonce:frm_js.nonce},success:function(t){o.html(t);var i=o.find("select, input, textarea"),r=1;if("hidden"==i.attr("type")&&(r=i.val()),""===t||""===r?(d.style.display="none",a=""):"all"!=e.MatchType&&(d.style.display=""),""!==t)if(""!==a){if(!jQuery.isArray(a)){var n=[];n.push(a),a=n}jQuery.each(a,function(e,t){if("undefined"!=typeof t&&""!==t)if("checkbox"==s||"radio"==s)i.length>1?i.filter('[value="'+t+'"]').attr("checked","checked"):i.val()==t&&i.attr("checked","checked");else if("select"==s){var r=i.children('option[value="'+t+'"]');r.length?r.prop("selected",!0):a.splice(e,1)}else i.val(t)})}else setDefaultValue(getInputsInContainer(o));i.hasClass("frm_chzn")&&jQuery().chosen&&jQuery(".frm_chzn").chosen({allow_single_deselect:!0}),triggerChange(i)}})}}}function getPrevFieldValue(e){var t=[],i="";return e.each(function(){i=this.value,"radio"===this.type||"checkbox"===this.type?this.checked===!0&&t.push(i):""!==i&&t.push(i)}),0===t.length&&(t=""),t}function doCalculation(e,t){if("undefined"!=typeof __FRMCALC){var i=__FRMCALC,r=i.fields[e];if("undefined"!=typeof r)for(var n=r.total,a=n.length,l=[],d=0,o=a;o>d;d++)fieldIsConditionallyHidden(i.calc[n[d]],t.attr("name"))||doSingleCalculation(i,n[d],l,t)}}function fieldIsConditionallyHidden(e,t){var i=e.field_id,r=e.form_id,n=document.getElementById("frm_hide_fields_"+r).value;if(!n)return!1;n=JSON.parse(n);var a=i;if(isRepeatingFieldByName(t)){var l=t.replace("item_meta","").replace(/\[/g,"").split("]");a=i+"-"+l[0]+"-"+l[1]}if(n.indexOf("frm_field_"+a+"_container")>-1)return!0;var d=getHelpers(r);return d&&null!==d[i]&&n.indexOf("frm_field_"+d[i]+"_container")>-1?!0:!1}function isRepeatingFieldByName(e){var t=!1,i=e.split("[");return i.length>=4&&(t=!0),t}function doSingleCalculation(all_calcs,field_key,vals,triggerField){var thisCalc=all_calcs.calc[field_key],thisFullCalc=thisCalc.calc,totalField=jQuery(document.getElementById("field_"+field_key)),fieldInfo={triggerField:triggerField,inSection:!1,thisFieldCall:'input[id^="field_'+field_key+'-"]'};totalField.length<1&&"undefined"!=typeof triggerField&&(fieldInfo.inSection=!0,fieldInfo.thisFieldId=objectSearch(all_calcs.fieldsWithCalc,field_key),totalField=getSiblingField(fieldInfo)),thisFullCalc=getValsForSingleCalc(thisCalc,thisFullCalc,all_calcs,vals,fieldInfo);var dec=thisCalc.calc_dec;if(thisFullCalc.indexOf(").toFixed(")){var calcParts=thisFullCalc.split(").toFixed(");isNumeric(calcParts[1])&&(dec=calcParts[1],thisFullCalc=thisFullCalc.replace(").toFixed("+dec,""))}var total=parseFloat(eval(thisFullCalc));"undefined"==typeof total&&(total=0),isNumeric(dec)&&(total=total.toFixed(dec)),totalField.val()!=total&&(totalField.val(total),triggerChange(totalField,field_key))}function getValsForSingleCalc(e,t,i,r,n){for(var a=e.fields.length,l=0,d=a;d>l;l++){var o={triggerField:n.triggerField,thisFieldId:e.fields[l],inSection:n.inSection,valKey:n.inSection+""+e.fields[l],thisField:i.fields[e.fields[l]],thisFieldCall:"input"+i.fieldKeys[e.fields[l]]};o=getCallForField(o,i),r=getCalcFieldId(o,i,r),("undefined"==typeof r[o.valKey]||isNaN(r[o.valKey]))&&(r[o.valKey]=0);var f="["+o.thisFieldId+"]";f=f.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),t=t.replace(new RegExp(f,"g"),r[o.valKey])}return t}function getCallForField(e,t){return"checkbox"==e.thisField.type||"select"==e.thisField.type?e.thisFieldCall=e.thisFieldCall+":checked,select"+t.fieldKeys[e.thisFieldId]+" option:selected,"+e.thisFieldCall+"[type=hidden]":"radio"==e.thisField.type||"scale"==e.thisField.type?e.thisFieldCall=e.thisFieldCall+":checked,"+e.thisFieldCall+"[type=hidden]":"textarea"==e.thisField.type&&(e.thisFieldCall=e.thisFieldCall+",textarea"+t.fieldKeys[e.thisFieldId]),e}function maybeDoCalcForSingleField(e){if("undefined"!=typeof __FRMCALC){var t=__FRMCALC,i=getFieldKey(e.id,e.name),r=maybeGetTriggerField(e);if(void 0!==t.calc[i]){var n=[];doSingleCalculation(t,i,n,r)}}}function getFieldKey(e,t){var i=e.replace("field_","");if(isRepeatingFieldByName(t)){for(var r=i.split("-"),n="",a=0;a<r.length-1;a++)n+=r[a];i=n}return i}function maybeGetTriggerField(e){var t=null;return isRepeatingFieldByName(e.name)&&(t=jQuery(e).closest(".frm_form_field")),t}function getCalcFieldId(e,t,i){if("undefined"!=typeof i[e.valKey]&&0!==i[e.valKey])return i;i[e.valKey]=0;var r;return e.inSection===!1?r=jQuery(e.thisFieldCall):(r=getSiblingField(e),(null===r||"undefined"==typeof r)&&(r=jQuery(e.thisFieldCall))),null===r||"undefined"==typeof r||r.length<1?i:(r.each(function(){var r=getOptionValue(e.thisField,this);if("date"==e.thisField.type){var n=getDateFieldValue(t.date,r);null!==n&&(i[e.valKey]=Math.ceil(n/864e5))}else{var a=r;""!==a&&0!==a&&(a=a.trim(),a=parseFloat(a.replace(/,/g,"").match(/-?[\d\.]+$/))),("undefined"==typeof a||isNaN(a)||""===a)&&(a=0),i[e.valKey]+=a}}),i)}function getDateFieldValue(e,t){var i=0;if(t)if("undefined"==typeof jQuery.datepicker){var r="-";e.indexOf("/")>-1&&(r="/");var n,a,l,d=e.split(r),o=t.split(r);n=a=l="";for(var f=0;f<d.length;f++)if("y"==d[f]){var s=(new Date).getFullYear()+15,c=s.toString().substr(2,2);n=o[f]>c?"19"+o[f]:"20"+o[f]}else"yy"==d[f]?n=o[f]:"m"==d[f]||"mm"==d[f]?(a=o[f],a.length<2&&(a="0"+a)):("d"==d[f]||"dd"==d[f])&&(l=o[f],l.length<2&&(l="0"+l));i=Date.parse(n+"-"+a+"-"+l)}else i=jQuery.datepicker.parseDate(e,t);else;return i}function getSiblingField(e){if("undefined"==typeof e.triggerField)return null;var t=e.triggerField.closest(".frm_repeat_sec, .frm_repeat_inline, .frm_repeat_grid");if(t.length){var i=e.thisFieldCall.replace("[id=","[id^=");return t.find(i)}return null}function getOptionValue(e,t){var i;return i=isOtherOption(e,t)?getOtherValueAnyField(e,t):"checkbox"!==t.type&&"radio"!==t.type||!t.checked?jQuery(t).val():t.value,"undefined"==typeof i&&(i=""),i}function isOtherOption(e,t){var i=!1;if("hidden"==t.type)""!==getOtherValueLimited(t)&&(i=!0);else if("select"==e.type){var r=t.className;r&&r.indexOf("frm_other_trigger")>-1&&(i=!0)}else("checkbox"==e.type||"radio"==e.type)&&t.id.indexOf("-other_")>-1&&t.id.indexOf("-otext")<0&&(i=!0);return i}function getOtherValueLimited(e){var t="",i=document.getElementById(e.id+"-otext");return null!==i&&""!==i.value&&(t=i.value),t}function getOtherValueAnyField(e,t){var i=0;return"select"==e.type?"hidden"==t.type?isCurrentOptRepeating(t)||(i=getOtherValueLimited(t)):i=getOtherSelectValue(t):("checkbox"==e.type||"radio"==e.type)&&("hidden"==t.type||(i=getOtherValueLimited(t))),i}function isCurrentOptRepeating(e){var t=!1,i=e.name.split("[");return i.length>2&&(t=!0),t}function getOtherSelectValue(e){return jQuery(e).closest(".frm_other_container").find(".frm_other_input").val()}function validateForm(e,t){var i=[],r=jQuery(t).find(".frm_required_field input, .frm_required_field select, .frm_required_field textarea");if(r.length)for(var n=0,a=r.length;a>n;n++)i=checkRequiredField(r[n],i);var l=jQuery(t).find("input[type=email]");if(l.length)for(var d=0,o=l.length;o>d;d++)i=checkEmailField(l[d],i,l);var f=jQuery(t).find("input[type=number]");if(f.length)for(var s=0,c=f.length;c>s;s++)i=checkNumberField(f[s],i);return i}function validateField(e,t){var i=[],r=jQuery(t).closest(".frm_form_field");if(r.hasClass(".frm_required_field")&&(i=checkRequiredField(t,i)),i.length<1&&"email"==t.type){var n=jQuery(t).closest("form").find("input[type=email]");i=checkEmailField(t,i,n)}if(Object.keys(i).length>0)for(var a in i)addFieldError(r,a,i);else removeFieldError(r)}function checkRequiredField(e,t,i){return""===jQuery(e).val()&&(i=getFieldId(e,!0),t[i]=""),t}function checkEmailField(e,t,i){var r=e.value,n=getFieldId(e,!0),a=0===n.indexOf("conf_");if(""!==r||a){var l=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;if(l.test(r)===!1)t[n]="",a&&(t[n.replace("conf_","")]="");else if(a){var d=e.name.replace("conf_",""),o=i.filter('[name="'+d+'"]').val();o!==r&&(t[n]="",t[n.replace("conf_","")]="")}}return t}function checkNumberField(e,t){var i=e.value;if(isNaN(i/1)!==!1){var r=getFieldId(e,!0);t[r]=""}return t}function checkDateField(e,t){return t}function getFormErrors(e,t){jQuery(e).find('input[type="submit"], input[type="button"]').attr("disabled","disabled"),jQuery(e).find(".frm_ajax_loading").addClass("frm_loading_now"),"undefined"==typeof t&&jQuery(e).find('input[name="frm_action"]').val(),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(e).serialize()+"&action=frm_entries_"+t+"&nonce="+frm_js.nonce,success:function(t){if(t=t.replace(/^\s+|\s+$/g,""),0===t.indexOf("{")&&(t=jQuery.parseJSON(t)),""===t||!t||"0"===t||"object"!=typeof t&&0===t.indexOf("<!DOCTYPE")){var i=document.getElementById("frm_loading");if(null!==i){var r=jQuery(e).find("input[type=file]").val();"undefined"!=typeof r&&""!==r&&setTimeout(function(){jQuery(i).fadeIn("slow")},2e3)}var n=jQuery(e).find(".g-recaptcha");n.length&&(jQuery(e).find(".frm_next_page").length<1||jQuery(e).find(".frm_next_page").val()<1)&&n.closest(".frm_form_field").replaceWith('<input type="hidden" name="recaptcha_checked" value="'+frm_js.nonce+'">'),e.submit()}else if("object"!=typeof t){jQuery(e).find(".frm_ajax_loading").removeClass("frm_loading_now");var a=jQuery(e).find('input[name="form_id"]').val();if(jQuery(e).closest("#frm_form_"+a+"_container").replaceWith(t),frmFrontForm.scrollMsg(a),"function"==typeof frmThemeOverride_frmAfterSubmit){var l=jQuery('input[name="frm_page_order_'+a+'"]').val(),d=jQuery(t).find('input[name="form_id"]').val();frmThemeOverride_frmAfterSubmit(d,l,t,e)}var o=jQuery(e).find('input[name="id"]');o.length&&jQuery(document.getElementById("frm_edit_"+o.val())).find("a").addClass("frm_ajax_edited").click()}else{jQuery(e).find('input[type="submit"], input[type="button"]').removeAttr("disabled"),jQuery(e).find(".frm_ajax_loading").removeClass("frm_loading_now");var f=!0;jQuery(".form-field").removeClass("frm_blank_field"),jQuery(".form-field .frm_error").replaceWith("");var s="",c=!1,u=null;for(var m in t)if(u=jQuery(e).find(jQuery(document.getElementById("frm_field_"+m+"_container"))),u.length){if(!u.is(":visible")){var p=u.closest(".frm_toggle_container");p.length&&p.prev(".frm_trigger").click()}if(u.is(":visible")){f=!1,""===s&&(frmFrontForm.scrollMsg(m,e,!0),s="#frm_field_"+m+"_container");var h=jQuery(e).find("#frm_field_"+m+"_container .g-recaptcha");h.length&&(c=!0,grecaptcha.reset()),addFieldError(u,m,t)}}else if("redirect"==m)return void(window.location=t[m]);c!==!0&&jQuery(e).find(".g-recaptcha").closest(".frm_form_field").replaceWith('<input type="hidden" name="recaptcha_checked" value="'+frm_js.nonce+'">'),f&&e.submit()}},error:function(){jQuery(e).find('input[type="submit"], input[type="button"]').removeAttr("disabled"),e.submit()}})}function addFieldError(e,t,i){e.length&&e.is(":visible")&&(e.addClass("frm_blank_field"),"function"==typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(t,i):e.append('<div class="frm_error">'+i[t]+"</div>"))}function removeFieldError(e){e.removeClass("frm_blank_field"),e.find(".frm_error").remove()}function clearDefault(){toggleDefault(jQuery(this),"clear")}function replaceDefault(){toggleDefault(jQuery(this),"replace")}function toggleDefault(e,t){var i=e.data("frmval").replace(/(\n|\r\n)/g,"\r");if(""===i||"undefined"==typeof i)return!1;var r=e.val().replace(/(\n|\r\n)/g,"\r");"replace"==t?""===r&&e.addClass("frm_default").val(i):r==i&&e.removeClass("frm_default").val("")}function resendEmail(){var e=jQuery(this),t=e.data("eid"),i=e.data("fid");return e.append('<span class="spinner" style="display:inline"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:t,form_id:i,nonce:frm_js.nonce},success:function(t){e.replaceWith(t)}}),!1}function prepareGraphTypes(e,t){for(var i=0;i<e.length;i++)prepareGraphs(e[i],t)}function prepareGraphs(e,t){google.load("visualization","1.0",{packages:[t],callback:function(){"table"==t?compileGoogleTable(e):compileGraph(e)}})}function compileGoogleTable(e){var t=new google.visualization.DataTable,i=!1;-1!==jQuery.inArray("id",e.options.fields)&&(i=!0,t.addColumn("number",frm_js.id));for(var r=e.fields.length,n="string",a=0,l=r;l>a;a++){var d=e.fields[a];n=getGraphType(d),t.addColumn(n,d.name)}var o=!1;e.options.edit_link&&(o=!0,t.addColumn("string",e.options.edit_link));var f=!1;e.options.delete_link&&(f=!0,t.addColumn("string",e.options.delete_link));var s=0;if(null!==e.entries){var c=e.entries.length;t.addRows(c);for(var u=0,m=0,p=c;p>m;m++){s=0;var h=e.entries[m];i&&(t.setCell(u,s,h.id),s++);for(var _=0,y=r;y>_;_++){var g=e.fields[_];n=getGraphType(g);var v=h.metas[g.id];"number"!=n||null!==v&&""!==v?"boolean"==n&&(v=null===v||"false"==v||v===!1?!1:!0):v=0,t.setCell(u,s,v),s++}o&&("undefined"!=typeof h.editLink?t.setCell(u,s,'<a href="'+h.editLink+'">'+e.options.edit_link+"</a>"):t.setCell(u,s,""),s++),f&&("undefined"!=typeof h.deleteLink?t.setCell(u,s,'<a href="'+h.deleteLink+'" class="frm_delete_link" data-frmconfirm="'+e.options.confirm+'">'+e.options.delete_link+"</a>"):t.setCell(u,s,"")),u++}}else for(t.addRows(1),s=0,a=0,l=r;l>a;a++)s>0?t.setCell(0,s,""):t.setCell(0,s,e.options.no_entries),s++;var F=new google.visualization.Table(document.getElementById("frm_google_table_"+e.options.form_id));F.draw(t,e.graphOpts)}function getGraphType(e){var t="string";if("number"==e.type)t="number";else if("checkbox"==e.type||"select"==e.type){var i=e.options.length;"select"==e.type&&""===e.options[0]&&("post_status"==e.field_options.post_field?i=3:i-=1),1==i&&(t="boolean")}return t}function compileGraph(e){var t=new google.visualization.DataTable,i=!1,r=!1,n=e.rows.length;if(n>0)if("table"==e.type){i=!0;var a=e.rows[n-1],l=a[0]+1;t.addRows(l);for(var d=0,o=n;o>d;d++)t.setCell(e.rows[d])}else{var f=e.rows[0];if("undefined"!=typeof f.tooltip){i=!0,r=!0;for(var s=0,c=n;c>s;s++){var u=e.rows[s].tooltip;delete e.rows[s].tooltip;var m=Object.keys(e.rows[s]).map(function(t){return e.rows[s][t]});e.rows[s]=m,e.rows[s].push(u)}}}var p=e.cols.length;if(i){if(p>0)for(var h=0,_=p;_>h;h++){var y=e.cols[h];t.addColumn(y.type,y.name)}r&&(t.addColumn({type:"string",role:"tooltip"}),t.addRows(e.rows))}else{var g=[];g[0]=[];for(var v=0,F=p;F>v;v++)g[0].push(e.cols[v].name);g=g.concat(e.rows),t=google.visualization.arrayToDataTable(g)}var j=e.type.charAt(0).toUpperCase()+e.type.slice(1)+"Chart",Q=new google.visualization[j](document.getElementById("chart_"+e.graph_id));Q.draw(t,e.options)}function nextUpload(){var e=jQuery(this),t=e.data("fid");e.wrap('<div class="frm_file_names frm_uploaded_files">');for(var i=e.get(0).files,r=0;r<i.length;r++)e.after(0===r?i[r].name+' <a href="#" class="frm_clear_file_link">'+frm_js.remove+"</a>":i[r].name+"<br/>");e.hide();var n="file"+t,a=e.attr("name");if(a!="item_meta["+t+"][]"){var l=a.replace("item_meta[","").replace("[]","").split("][");3==l.length&&(n=n+"-"+l[1])}e.closest(".frm_form_field").find(".frm_uploaded_files:last").after('<input name="'+a+'" data-fid="'+t+'"class="frm_transparent frm_multiple_file" multiple="multiple" type="file" />')}function removeDiv(){fadeOut(jQuery(this).parent(".frm_uploaded_files"))}function clearFile(){return jQuery(this).parent(".frm_file_names").replaceWith(""),!1}function removeRow(){var e="frm_section_"+jQuery(this).data("parent")+"-"+jQuery(this).data("key"),t=jQuery(document.getElementById(e)),i=t.find("input, select, textarea");return t.fadeOut("slow",function(){t.remove(),i.each(function(){if("file"!=this.type){var e=this.name.replace("item_meta[","").split("]")[2].replace("[","");doCalculation(e,jQuery(this))}})}),!1}function addRow(){if(currentlyAddingRow===!0)return!1;currentlyAddingRow=!0;var e=jQuery(this).data("parent"),t=0;return jQuery(".frm_repeat_"+e).length>0&&(t=1+parseInt(jQuery(".frm_repeat_"+e+":last").attr("id").replace("frm_section_"+e+"-","")),"undefined"==typeof t&&(t=1)),jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_add_form_row",field_id:e,i:t,nonce:frm_js.nonce},success:function(t){var i=t.html,r=jQuery(i).hide().fadeIn("slow");jQuery(".frm_repeat_"+e+":last").after(r);var n,a,l=["other"],d="reset";addingRow=r.attr("id"),jQuery(i).find("input, select, textarea").each(function(){if("file"!=this.type){if(""==this.name)return!0;n=this.name.replace("item_meta[","").split("]")[2].replace("[",""),-1==jQuery.inArray(n,l)&&(a=jQuery("#"+this.id),l.push(n),checkDependentField(n,null,a,d),doCalculation(n,a),d="persist")}}),addingRow="";for(var o=t.logic.check.length,f=0,s=o;s>f;f++)-1==jQuery.inArray(t.logic.check[f],l)&&jQuery(i).find(".frm_field_"+t.logic.check[f]+"_container").length<1&&(checkDependentField(t.logic.check[f],null,null,d),d="persist");var c=jQuery(i).find(".star");c.length>0&&jQuery(".star").rating();var u=jQuery(i).find(".frm_chzn");u.length>0&&jQuery().chosen&&jQuery(".frm_chzn").chosen({allow_single_deselect:!0}),"function"==typeof frmThemeOverride_frmAddRow&&frmThemeOverride_frmAddRow(e,t),currentlyAddingRow=!1},error:function(){currentlyAddingRow=!1}}),!1}function editEntry(){var e=jQuery(this),t=e.data("entryid"),i=e.data("prefix"),r=e.data("pageid"),n=e.data("formid"),a=e.data("cancel"),l=e.data("fields"),d=e.data("excludefields"),o=jQuery(document.getElementById(i+t)),f=o.html();return o.html('<span class="frm-loading-img" id="'+i+t+'"></span><div class="frm_orig_content" style="display:none">'+f+"</div>"),jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:{action:"frm_entries_edit_entry_ajax",post_id:r,entry_id:t,id:n,nonce:frm_js.nonce,fields:l,exclude_fields:d},success:function(t){o.children(".frm-loading-img").replaceWith(t),e.removeClass("frm_inplace_edit").addClass("frm_cancel_edit"),e.html(a)}}),!1}function cancelEdit(){var e=jQuery(this),t=e.data("entryid"),i=e.data("prefix"),r=e.data("edit");if(!e.hasClass("frm_ajax_edited")){var n=jQuery(document.getElementById(i+t));n.children(".frm_forms").replaceWith(""),n.children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content")}return e.removeClass("frm_cancel_edit").addClass("frm_inplace_edit"),e.html(r),!1}function deleteEntry(){var e=jQuery(this),t=e.data("deleteconfirm");if(confirm(t)){var i=e.data("entryid"),r=e.data("prefix");e.replaceWith('<span class="frm-loading-img" id="frm_delete_'+i+'"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:i,nonce:frm_js.nonce},success:function(e){"success"==e.replace(/^\s+|\s+$/g,"")?(jQuery(document.getElementById(r+i)).fadeOut("slow"),jQuery(document.getElementById("frm_delete_"+i)).fadeOut("slow")):jQuery(document.getElementById("frm_delete_"+i)).replaceWith(e)
}})}return!1}function fadeOut(e){e.fadeOut("slow",function(){e.remove()})}function confirmClick(){var e=jQuery(this).data("frmconfirm");return confirm(e)}function toggleDiv(){var e=jQuery(this).data("frmtoggle");return jQuery(e).is(":visible")?jQuery(e).slideUp("fast"):jQuery(e).slideDown("fast"),!1}function empty(e){if(null!==e)for(;e.firstChild;)e.removeChild(e.firstChild)}function objectSearch(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return i;return null}function isNotEmptyArray(e){return jQuery.isArray(e)&&(e.length>1||""!==e[0])}function isNumeric(e){return!jQuery.isArray(e)&&e-parseFloat(e)+1>=0}function getInputsInContainer(e){return e.find('select[name^="item_meta"], textarea[name^="item_meta"], input[name^="item_meta"]')}function getFieldName(e,t){var i="item_meta["+e+"]";return isRepeatingFieldById(e)&&(i=getRepeatingFieldName(e,t)),i}function getHelpers(e){var t=document.getElementById("frm_helpers_"+e).value;return t=t?JSON.parse(t):[]}function getRepeatingFieldName(e,t){var i="";if(t.indexOf("frm_section")>-1){var r=t.replace("frm_section_","").split("-");i="item_meta["+r[0]+"]["+r[1]+"]["+e+"]"}else{var n=t.replace("frm_field_","").replace("_container","").split("-");i="item_meta["+n[1]+"]["+n[2]+"]["+e+"]"}return i}function getRepeatingFieldHtmlId(e,t){var i=t.replace("frm_section_","").split("-"),r="frm_field_"+e+"-"+i[0]+"-"+i[1]+"_container";return r}function maybeGetFirstElement(e){return e.length>1&&(e=e.eq(0)),e}function isRepeatingFieldById(e){var t=document.getElementById("frm_field_"+e+"_container");if("undefined"!=typeof t&&null!==t)return!1;var i=jQuery('input[name^="item_meta['+e+']"],select[name^="item_meta['+e+']"], textarea[name^="item_meta['+e+']"]');return i.length<1?!0:!1}function addIndexOfFallbackForIE8(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1})}function addTrimFallbackForIE8(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function addFilterFallbackForIE8(){Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],n=arguments[1],a=0;i>a;a++)if(a in t){var l=t[a];e.call(n,l,a,t)&&r.push(l)}return r})}function addKeysFallbackForIE8(){Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t})}function getCheckedVal(e,t){var i=[];if("undefined"==typeof document.querySelector){var r=jQuery("#"+e+' input[type=checkbox]:checked, input[type=hidden][name^="'+t+'"]');r.each(function(){i.push(this.value)})}else for(var n=document.querySelectorAll("#"+e+' input[type=checkbox], input[type=hidden][name^="'+t+'"]'),a=0;a<n.length;a++)("checkbox"==n[a].type&&n[a].checked||"hidden"==n[a].type)&&i.push(n[a].value);return i}var show_fields=[],hide_later=[],hidden_fields=[],frm_checked_dep=[],addingRow="",currentlyAddingRow=!1,action="",jsErrors=[];return{init:function(){jQuery(document).on("click",".frm_trigger",toggleSection);var e=jQuery(".frm_blank_field");e.length&&e.closest(".frm_toggle_container").prev(".frm_trigger").click(),jQuery.isFunction(jQuery.fn.placeholder)?jQuery(".frm-show-form input, .frm-show-form textarea").placeholder():jQuery(".frm-show-form input[onblur], .frm-show-form textarea[onblur]").each(function(){""===jQuery(this).val()&&jQuery(this).blur()}),jQuery(document).on("focus",".frm_toggle_default",clearDefault),jQuery(document).on("blur",".frm_toggle_default",replaceDefault),jQuery(".frm_toggle_default").blur(),jQuery(document.getElementById("frm_resend_email")).click(resendEmail),jQuery(document).on("change",".frm_multiple_file",nextUpload),jQuery(document).on("click",".frm_clear_file_link",clearFile),jQuery(document).on("click",".frm_remove_link",removeDiv),jQuery(document).on("focusin","input[data-frmmask]",function(){jQuery(this).mask(jQuery(this).data("frmmask").toString())}),jQuery(document).on("change",'.frm-show-form input[name^="item_meta"], .frm-show-form select[name^="item_meta"], .frm-show-form textarea[name^="item_meta"]',maybeCheckDependent),jQuery(document).on("click",'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft',setNextPage),jQuery(document).on("change",'.frm_other_container input[type="checkbox"], .frm_other_container input[type="radio"], .frm_other_container select',showOtherText),jQuery(document).on("change","input[type=file].frm_transparent",showFileUploadText),jQuery(document).on("click",".frm_remove_form_row",removeRow),jQuery(document).on("click",".frm_add_form_row",addRow),jQuery(document).on("click","a[data-frmconfirm]",confirmClick),jQuery("a[data-frmtoggle]").click(toggleDiv),jQuery(".frm_edit_link_container").on("click","a.frm_inplace_edit",editEntry),jQuery(".frm_edit_link_container").on("click","a.frm_cancel_edit",cancelEdit),jQuery(".frm_ajax_delete").click(deleteEntry),jQuery(".frm_month_heading, .frm_year_heading").click(function(){var e=jQuery(this).children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s");e.hasClass("ui-icon-triangle-1-e")?(e.addClass("ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-e"),jQuery(this).next(".frm_toggle_container").fadeIn("slow")):(e.addClass("ui-icon-triangle-1-e").removeClass("ui-icon-triangle-1-s"),jQuery(this).next(".frm_toggle_container").hide())}),addIndexOfFallbackForIE8(),addTrimFallbackForIE8(),addFilterFallbackForIE8(),addKeysFallbackForIE8()},submitForm:function(e){e.preventDefault(),jQuery(this).find(".wp-editor-wrap").length&&"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var t=this;if(action=jQuery(t).find('input[name="frm_action"]').val(),jsErrors=[],frmFrontForm.getAjaxFormErrors(t),0===Object.keys(jsErrors).length)getFormErrors(t,action);else{jQuery(".form-field").removeClass("frm_blank_field"),jQuery(".form-field .frm_error").replaceWith("");for(var i in jsErrors){var r=jQuery(t).find(jQuery("#frm_field_"+i+"_container"));addFieldError(r,i,jsErrors)}}},getAjaxFormErrors:function(e){"function"==typeof frmThemeOverride_jsErrors&&(jsErrors=frmThemeOverride_jsErrors(action,e))},checkFormErrors:function(e,t){getFormErrors(e,t)},scrollToID:function(e){var t=jQuery(document.getElementById(e).offset());window.scrollTo(t.left,t.top)},scrollMsg:function(e,t,i){var r="";if(r="undefined"==typeof t?jQuery(document.getElementById("frm_form_"+e+"_container")).offset().top:jQuery(t).find(document.getElementById("frm_field_"+e+"_container")).offset().top){r-=frm_js.offset;var n=jQuery("html").css("margin-top"),a=jQuery("body").css("margin-top");if((n||a)&&(r=r-parseInt(n)-parseInt(a)),r&&window.innerHeight){var l=document.documentElement.scrollTop||document.body.scrollTop,d=l+window.innerHeight;if(r>d||l>r)return"undefined"==typeof i?jQuery(window).scrollTop(r):jQuery("html,body").animate({scrollTop:r},500),!1}}},hideCondFields:function(e){e=JSON.parse(e);for(var t=e.length,i=0,r=t;r>i;i++){var n=document.getElementById("frm_field_"+e[i]+"_container");null!==n?n.style.display="none":jQuery(".frm_field_"+e[i]+"_container").hide()}},checkDependent:function(e){e=JSON.parse(e);for(var t=e.length,i="reset",r=0,n=t;n>r;r++)checkDependentField(e[r],null,null,i),i="persist"},loadGoogle:function(){if("undefined"!=typeof google&&google&&google.load)for(var e=__FRMTABLES,t=Object.keys(e),i=0;i<t.length;i++)prepareGraphTypes(e[t[i]],t[i]);else setTimeout(frmFrontForm.loadGoogle,30)},removeUsedTimes:function(e,t){var i=jQuery(e).parents("form:first").find('input[name="id"]');jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_fields_ajax_time_options",time_field:t,date_field:e.id,entry_id:i?i.val():"",date:jQuery(e).val(),nonce:frm_js.nonce},success:function(e){var i=jQuery(document.getElementById(t));if(i.find("option").removeAttr("disabled"),e&&""!==e)for(var r in e)i.find('option[value="'+r+'"]').attr("disabled","disabled")}})},escapeHtml:function(e){return e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},invisible:function(e){jQuery(e).css("visibility","hidden")},visible:function(e){jQuery(e).css("visibility","visible")}}}function frmUpdateField(e,t,i,r,n){jQuery(document.getElementById("frm_update_field_"+e+"_"+t)).html('<span class="frm-loading-img"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_update_field_ajax",entry_id:e,field_id:t,value:i,nonce:frm_js.nonce},success:function(){""===r.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById("frm_update_field_"+e+"_"+t+"_"+n)).fadeOut("slow"):jQuery(document.getElementById("frm_update_field_"+e+"_"+t+"_"+n)).replaceWith(r)}})}function frmEditEntry(e,t,i,r,n,a){console.warn("DEPRECATED: function frmEditEntry in v2.0.13 use frmFrontForm.editEntry");var l=jQuery(document.getElementById("frm_edit_"+e)),d=l.html(),o=jQuery(document.getElementById(t+e)),f=o.html();o.html('<span class="frm-loading-img" id="'+t+e+'"></span><div class="frm_orig_content" style="display:none">'+f+"</div>"),jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:{action:"frm_entries_edit_entry_ajax",post_id:i,entry_id:e,id:r,nonce:frm_js.nonce},success:function(f){o.children(".frm-loading-img").replaceWith(f),l.replaceWith('<span id="frm_edit_'+e+'"><a onclick="frmCancelEdit('+e+",'"+t+"','"+frmFrontForm.escapeHtml(d)+"',"+i+","+r+",'"+a+'\')" class="'+a+'">'+n+"</a></span>")}})}function frmCancelEdit(e,t,i,r,n,a){console.warn("DEPRECATED: function frmCancelEdit in v2.0.13 use frmFrontForm.cancelEdit");var l=jQuery(document.getElementById("frm_edit_"+e)),d=l.find("a"),o=d.html();if(!d.hasClass("frm_ajax_edited")){var f=jQuery(document.getElementById(t+e));f.children(".frm_forms").replaceWith(""),f.children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content")}l.replaceWith('<a id="frm_edit_'+e+'" class="frm_edit_link '+a+'" href="javascript:frmEditEntry('+e+",'"+t+"',"+r+","+n+",'"+frmFrontForm.escapeHtml(o)+"','"+a+"')\">"+i+"</a>")}function frmDeleteEntry(e,t){console.warn("DEPRECATED: function frmDeleteEntry in v2.0.13 use frmFrontForm.deleteEntry"),jQuery(document.getElementById("frm_delete_"+e)).replaceWith('<span class="frm-loading-img" id="frm_delete_'+e+'"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:e,nonce:frm_js.nonce},success:function(i){"success"==i.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById(t+e)).fadeOut("slow"):jQuery(document.getElementById("frm_delete_"+e)).replaceWith(i)}})}function frmOnSubmit(e){console.warn("DEPRECATED: function frmOnSubmit in v2.0 use frmFrontForm.submitForm"),frmFrontForm.submitForm(e,this)}function frm_resend_email(e,t){console.warn("DEPRECATED: function frm_resend_email in v2.0"),$link=jQuery(document.getElementById("frm_resend_email")),$link.append('<span class="spinner" style="display:inline"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:e,form_id:t,nonce:frm_js.nonce},success:function(e){$link.replaceWith(e)}})}var frmFrontForm=frmFrontFormJS();jQuery(document).ready(function(){frmFrontForm.init()});