!function(t){jQuery.fn.TS_VCSC_RoundImage=function(){return this.each(function(){var t=jQuery(this),a=t.width(),s=t.height(),h=a/s;imageOffsetX=0,imageOffsetY=0,imageSource=t.attr("src"),svgWidth=a,svgHeight=s,h>1?(imageOffsetX=(a*h-a)/2*-1,a*=h,s*=h):1>h&&(h=1,imageOffsetY=0,svgHeight=svgWidth),radius=a/2,uniqId=function(){return Math.round((new Date).getTime()+100*Math.random())},svgClipPathId=uniqId(),t.after('<svg class="ts-lightbox-shape-svg" width="'+svgWidth+'" height="'+svgWidth+'"><clipPath id="'+svgClipPathId+'"><circle r="'+radius+'" cx="'+svgWidth/2+'" cy="'+svgHeight/2+'"/></clipPath><image clip-path="url(#'+svgClipPathId+')" xlink:href="'+imageSource+'" x="'+imageOffsetX+'" y="'+imageOffsetY+'" src="'+imageSource+'" width="'+a+'" height="'+s+'"></image></svg>'),t.hide()})},t(document).ready(function(){function t(){jQuery(".ts-lightbox-shape-holder").each(function(){var t=jQuery(this),a=t.attr("data-effect"),s=t.closest(".ts-lightbox-shape-container"),h=t.closest(".ts-lightbox-shape-padding"),e=t.find(".ts-lightbox-shape-inner"),i=t.find(".ts-lightbox-shape-caption"),o=(t.find("img.ts-lightbox-shape-loader"),t.find("img.ts-lightbox-shape-image"));t.removeClass(a),o.removeAttr("style"),"ts-lightbox-shape-losange"==a||"ts-lightbox-shape-diamond"==a?(t.css({width:"100%",height:"100%"}),e.css({width:"100%",height:"100%"}),h.css({"padding-top":"0px","padding-bottom":"0px"}),e.css({"-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(-45deg)",transform:"rotate(-45deg)"}),i.css({"-webkit-transform":"translateY(0px)","-moz-transform":"translateY(0px)",transform:"translateY(0px)"}),o.css({width:s.width()+"px","max-width":"100%",height:"auto",left:"auto",top:"auto"})):("ts-lightbox-shape-circle"==a||"ts-lightbox-shape-hexagon"==a||"ts-lightbox-shape-octagon"==a)&&(t.css({width:"100%",height:"100%",left:"auto"}),o.css({width:s.width()+"px","max-width":"100%",left:"auto",top:"auto"}),"ts-lightbox-shape-circle"==a&&t.find(".ts-lightbox-shape-svg").remove());var r=s.width(),p=(s.height(),o.width()),g=o.height(),n=p,x=p/g;if(1>x&&(x=1),t.addClass(a),"ts-lightbox-shape-losange"==a||"ts-lightbox-shape-diamond"==a)var d=n*Math.abs(Math.cos(0))+n*Math.abs(Math.sin(0)),l=n*Math.abs(Math.cos(90))+n*Math.abs(Math.sin(90)),c=l/d,f=l-d,m=f/2;else if("ts-lightbox-shape-circle"==a)var d=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0))-20,c=l/d,f=l-d,m=f/2;else if("ts-lightbox-shape-hexagon"==a)var d=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(120))+r*Math.abs(Math.sin(120))-20,c=l/d,f=l-d,m=f/2;else if("ts-lightbox-shape-octagon"==a)var d=r*Math.abs(Math.cos(0))+r*Math.abs(Math.sin(0)),l=r*Math.abs(Math.cos(45))+r*Math.abs(Math.sin(45))+20,c=l/d,f=l-d,m=f/2;"ts-lightbox-shape-losange"==a?(t.css({width:d/c-20+"px",height:d/c-20+"px"}),e.css({width:d+20+"px",height:d+20+"px"}),h.css({"padding-top":m+"px","padding-bottom":m+"px"}),e.css({"-webkit-transform":"rotate(-45deg) translateY(-"+(40+m)+"px)","-moz-transform":"rotate(-45deg) translateY(-"+(40+m)+"px)",transform:"rotate(-45deg) translateY(-"+(40+m)+"px)"}),o.css(x>1?{height:d+20+"px",width:(d+20)*x+"px","max-width":(d+20)*x+"px",left:"-"+((d+20)*x-(d+20))/2+"px"}:{width:(l+f)/2+f+"px","max-width":(l+f)/2+f+"px",left:"-"+((l+f)/2+f-(d+20))/2+"px"})):"ts-lightbox-shape-diamond"==a?(t.css({width:d/c+m/2+"px",height:d/c+m/2+"px","-webkit-transform":"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)","-moz-transform":"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)",transform:"rotate(45deg) translateY(-"+m+"px) translateX(-"+m+"px)"}),e.css({width:d+"px",height:d+"px"}),h.css({"padding-top":m+"px","padding-bottom":"0px","margin-bottom":"-"+m/2+"px"}),e.css({"-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(-45deg)",transform:"rotate(-45deg)"}),i.css({"-webkit-transform":"translateY(-"+m/4+"px)","-moz-transform":"translateY(-"+m/4+"px)",transform:"translateY(-"+m/4+"px)"}),o.css(x>1?{height:d+"px",width:d*x+"px","max-width":d*x+"px",left:"-"+(d*x-d)/2+"px"}:{width:(l+f)/2+f+"px","max-width":(l+f)/2+f+"px",left:"-"+((l+f)/2+f-d)/2+"px"})):"ts-lightbox-shape-circle"==a?(t.css({width:d+"px",height:d+"px"}),e.css({width:d+"px",height:d+"px"}),o.css(x>1?{width:d+"px","max-width":d+"px"}:{width:d+"px","max-width":d+"px"}),o.TS_VCSC_RoundImage()):("ts-lightbox-shape-hexagon"==a||"ts-lightbox-shape-octagon"==a)&&(t.css({width:l+f+"px",height:(l+f)/2+"px",left:"-"+f+"px"}),o.css(x>1?{width:(l+f)/2*x+"px",left:(l+f-(l+f)/2*x)/2+"px"}:{width:(l+f)/2+f+"px",left:(l+f)/2+f-(l+f)/2+(r-((l+f)/2+f))/2+"px",top:"-"+f/2+"px"}))})}jQuery(window).on("debouncedresize",function(){t()})})}(jQuery);