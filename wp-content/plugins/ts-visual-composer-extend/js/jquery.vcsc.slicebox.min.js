!function(t,e,i){"use strict";function s(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return-1==t?!1:!0}function a(){if(document.body&&document.body.style.perspective!==i)return!0;var t=document.createElement("div"),e=t.style,s=["Webkit","Moz","O","Ms","ms"],a=s.length;if(t.style.perspective!==i)return t.remove(),!0;for(;--a>-1;)if(e[s[a]+"Perspective"]!==i)return t.remove(),!0;return t.remove(),!1}var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(e){function s(){var i=t(h),s=t(c);o&&(c.length?o.reject(l,i,s):o.resolve(l)),t.isFunction(e)&&e.call(n,l,i,s)}function a(e,i){e.src!==r&&-1===t.inArray(e,u)&&(u.push(e),i?c.push(e):h.push(e),t.data(e,"imagesLoaded",{isBroken:i,src:e.src}),d&&o.notifyWith(t(e),[i,l,t(h),t(c)]),l.length===u.length&&(setTimeout(s),l.unbind(".imagesLoaded")))}var n=this,o=t.isFunction(t.Deferred)?t.Deferred():0,d=t.isFunction(o.notify),l=n.find("img").add(n.filter("img")),u=[],h=[],c=[];return t.isPlainObject(e)&&t.each(e,function(t,i){"callback"===t?e=i:o&&o[t](i)}),l.length?l.bind("load.imagesLoaded error.imagesLoaded",function(t){a(t.target,"error"===t.type)}).each(function(e,s){var n=s.src,o=t.data(s,"imagesLoaded");return o&&o.src===n?(a(s,o.isBroken),void 0):s.complete&&s.naturalWidth!==i?(a(s,0===s.naturalWidth||0===s.naturalHeight),void 0):((s.readyState||s.complete)&&(s.src=r,s.src=n),void 0)}):s(),o?o.promise(n):n};var n=t(e),o=e.Modernizr,d=a();t.Slicebox=function(e,i){this.$el=t(i),this._init(e)},t.Slicebox.defaults={orientation:"v",perspective:1200,cuboidsCount:5,cuboidsRandom:!1,maxCuboidsCount:5,disperseFactor:0,colorHiddenSides:"#222",sequentialFactor:150,speed:600,easing:"ease",autoplay:!1,interval:3e3,fallbackFadeSpeed:300,onBeforeChange:function(){return!1},onAfterChange:function(){return!1},onReady:function(){return!1}},t.Slicebox.prototype={_init:function(e){if(this.options=t.extend(!0,{},t.Slicebox.defaults,e),this._validate(),this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount)return!1;s()===!0?this.support=!1:(this.support=o.csstransitions&&(o.csstransforms3d||d),"undefined"==this.support&&(this.support=!1)),this.current=0,this.isAnimating=!1,this.isReady=!1;var i=this;this.$el.imagesLoaded(function(){var t=i.$items.eq(i.current).css("display","block").addClass("sb-current"),e=new Image;e.src=t.find("img").attr("src"),i.realWidth=e.width,i._setSize(),i._setStyle(),i._initEvents(),i.options.onReady(),i.isReady=!0,i.options.autoplay&&(i.isPlaying=!1,i._startSlideshow())})},_validate:function(){this.options.cuboidsCount<0?this.options.cuboidsCount=1:this.options.cuboidsCount>15?this.options.cuboidsCount=15:0===this.options.cuboidsCount%2&&++this.options.cuboidsCount,this.options.maxCuboidsCount<0?this.options.maxCuboidsCount=1:this.options.maxCuboidsCount>15?this.options.maxCuboidsCount=15:0===this.options.maxCuboidsCount%2&&++this.options.maxCuboidsCount,this.options.disperseFactor<0&&(this.options.disperseFactor=0),"v"!==this.options.orientation&&"h"!==this.options.orientation&&"r"!==this.options.orientation&&(this.options.orientation="v")},_setSize:function(){var t=this.$items.eq(this.current).find("img");this.size={width:t.width(),height:t.height()}},_setStyle:function(){this.$el.css({"max-width":this.realWidth})},_initEvents:function(){var t=this;n.on("debouncedresize.slicebox",function(){t.isAnimating?setTimeout(function(){t._setSize()},t.options.speed+250):t._setSize()})},_startSlideshow:function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_navigate:function(t,e){return this.isAnimating||!this.isReady||this.itemsCount<2?!1:(this.isAnimating=!0,this.prev=this.current,e!==i?this.current=e:"next"===t?this.current=this.current<this.itemsCount-1?this.current+1:0:"prev"===t&&(this.current=this.current>0?this.current-1:this.itemsCount-1),this.options.onBeforeChange(this.current),this.support?(this._layout(t),this._rotate()):this._fade(t),void 0)},_fade:function(){var e=this,i=this.$items.eq(this.prev),s=i.find("img").height();this.$el.css("height",s),this.$items.css("position","absolute"),this.$items.eq(this.current).fadeIn(this.options.fallbackFadeSpeed,function(){t(this).css("display","block").addClass("sb-current"),e.$el.css("height","auto"),e.$items.css("position","relative"),e.isAnimating=!1}),e.$items.eq(e.prev).removeClass("sb-current").fadeOut(this.options.fallbackFadeSpeed)},_layout:function(e){var i=this.options.orientation;"r"===i&&(i=0===Math.floor(2*Math.random())?"v":"h"),this.options.cuboidsRandom&&(this.options.cuboidsCount=Math.floor(Math.random()*this.options.maxCuboidsCount+1)),this._validate();var s={width:this.size.width,height:this.size.height,perspective:this.options.perspective+"px"},a=t.extend(this.options,{size:this.size,items:this.$items,direction:e,prev:this.prev,current:this.current,o:i});this.$box=t("<div>").addClass("sb-perspective").css(s).appendTo(this.$el),this.cuboids=[],this.$el.css("overflow","visible");for(var r=0;r<this.options.cuboidsCount;++r){var n=new t.Cuboid(a,r);this.$box.append(n.getEl()),this.cuboids.push(n)}},_rotate:function(){this.$items.eq(this.prev).removeClass("sb-current").hide();for(var t=0;t<this.options.cuboidsCount;++t){var e=this.cuboids[t],i=this;e.rotate(function(t){if(t===i.options.cuboidsCount-1){i.$el.css("overflow","hidden"),i.isAnimating=!1,i.$box.remove();var e=i.$items.eq(i.current);e.css("display","block"),setTimeout(function(){e.addClass("sb-current")},0),i.options.onAfterChange(i.current)}})}},_destroy:function(t){this.$el.off(".slicebox").removeData("slicebox"),n.off(".slicebox"),t.call()},add:function(t,e){this.$items=this.$items.add(t),this.itemsCount=this.$items.length,e&&e.call(t)},next:function(){this._stopSlideshow(),this._navigate("next")},previous:function(){this._stopSlideshow(),this._navigate("prev")},jump:function(t){return t-=1,t===this.current||t>=this.itemsCount||0>t?!1:(this._stopSlideshow(),this._navigate(t>this.current?"next":"prev",t),void 0)},play:function(){this.isPlaying=!0,this.options.autoplay=!0,this._startSlideshow()},pause:function(){this._stopSlideshow()},isActive:function(){return this.isAnimating},destroy:function(t){this._destroy(t)}},t.Cuboid=function(t,e){this.config=t,this.pos=e,this.side=1,this._setSize(),this._configureStyles()},t.Cuboid.prototype={_setSize:function(){this.size={width:"v"===this.config.o?Math.floor(this.config.size.width/this.config.cuboidsCount):this.config.size.width,height:"v"===this.config.o?this.config.size.height:Math.floor(this.config.size.height/this.config.cuboidsCount)},this.extra="v"===this.config.o?this.config.size.width-this.size.width*this.config.cuboidsCount:this.config.size.height-this.size.height*this.config.cuboidsCount},_configureStyles:function(){var e=Math.ceil(this.config.cuboidsCount/2),i=this.pos<e?{zIndex:100*(this.pos+1),left:"v"===this.config.o?this.size.width*this.pos:0,top:"v"===this.config.o?0:this.size.height*this.pos}:{zIndex:100*(this.config.cuboidsCount-this.pos),left:"v"===this.config.o?this.size.width*this.pos:0,top:"v"===this.config.o?0:this.size.height*this.pos};this.disperseFactor=this.config.disperseFactor*(this.pos+1-e),this.style=t.extend({"-webkit-transition":"-webkit-transform "+this.config.speed+"ms "+this.config.easing,"-moz-transition":"-moz-transform "+this.config.speed+"ms "+this.config.easing,"-o-transition":"-o-transform "+this.config.speed+"ms "+this.config.easing,"-ms-transition":"-ms-transform "+this.config.speed+"ms "+this.config.easing,transition:"transform "+this.config.speed+"ms "+this.config.easing},i,this.size),this.animationStyles={side1:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px )"},side2:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -90deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -90deg )"},side3:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -180deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -180deg )"},side4:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -270deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -270deg )"}};var s="v"===this.config.o?this.size.height:this.size.width;this.sidesStyles={frontSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 0deg ) translate3d( 0, 0, "+s/2+"px )"},backSideStyle:{width:this.size.width,height:this.size.height,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 180deg ) translate3d( 0, 0, "+s/2+"px ) rotateZ( 180deg )"},rightSideStyle:{width:s,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,left:"v"===this.config.o?this.size.width/2-this.size.height/2:0,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 90deg ) translate3d( 0, 0, "+this.size.width/2+"px )"},leftSideStyle:{width:s,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,left:"v"===this.config.o?this.size.width/2-this.size.height/2:0,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, -90deg ) translate3d( 0, 0, "+this.size.width/2+"px )"},topSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:s,top:"v"===this.config.o?0:this.size.height/2-this.size.width/2,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 1, 0, 0, 90deg ) translate3d( 0, 0, "+this.size.height/2+"px )"},bottomSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:s,top:"v"===this.config.o?0:this.size.height/2-this.size.width/2,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 1, 0, 0, -90deg ) translate3d( 0, 0, "+this.size.height/2+"px )"}}},getEl:function(){return this.$el=t("<div/>").css(this.style).css(this.animationStyles.side1).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.frontSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.backSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.rightSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.leftSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.topSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.bottomSideStyle)),this._showImage(this.config.prev),this.$el},_showImage:function(t){var e,i=this.config.items.eq(t),s={"background-size":this.config.size.width+"px "+this.config.size.height+"px"};switch(s.backgroundImage="url("+i.find("img").attr("src")+")",this.side){case 1:e=0;break;case 2:e="v"===this.config.o?4:2;break;case 3:e=1;break;case 4:e="v"===this.config.o?5:3}s.backgroundPosition="v"===this.config.o?-(this.pos*this.size.width)+"px 0px":"0px -"+this.pos*this.size.height+"px",this.$el.children().eq(e).css(s)},rotate:function(t){var e,i=this;setTimeout(function(){if("next"===i.config.direction)switch(i.side){case 1:e=i.animationStyles.side2,i.side=2;break;case 2:e=i.animationStyles.side3,i.side=3;break;case 3:e=i.animationStyles.side4,i.side=4;break;case 4:e=i.animationStyles.side1,i.side=1}else switch(i.side){case 1:e=i.animationStyles.side4,i.side=4;break;case 2:e=i.animationStyles.side1,i.side=1;break;case 3:e=i.animationStyles.side2,i.side=2;break;case 4:e=i.animationStyles.side3,i.side=3}i._showImage(i.config.current);var s={},a={};"v"===i.config.o?(s.left="+="+i.disperseFactor+"px",a.left="-="+i.disperseFactor+"px"):"h"===i.config.o&&(s.top="+="+i.disperseFactor+"px",a.top="-="+i.disperseFactor+"px"),i.$el.css(e).animate(s,i.config.speed/2).animate(a,i.config.speed/2,function(){t&&t.call(i,i.pos)})},this.config.sequentialFactor*this.pos+30)}};var l=function(t){e.console&&e.console.error(t)};t.fn.slicebox=function(e){var i=t.data(this,"slicebox");if("string"==typeof e){var s=Array.prototype.slice.call(arguments,1);this.each(function(){return i?t.isFunction(i[e])&&"_"!==e.charAt(0)?(i[e].apply(i,s),void 0):(l("no such method '"+e+"' for slicebox self"),void 0):(l("cannot call methods on slicebox prior to initialization; attempted to call method '"+e+"'"),void 0)})}else this.each(function(){i?i._init():i=t.data(this,"slicebox",new t.Slicebox(e,this))});return i}}(jQuery,window);