!function(t){t.fn.TS_VCSC_Circliful=function(e){var i=t.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,responsive:!0,dimension:200,maxsize:250,fontsize:30,fontcolor:"#676767",infosize:15,infocolor:"#999999",percent:50,animationstep:1,iconsize:30,iconcolor:"#dddddd",iconposition:"left",border:"default",type:"full",complete:null},e);return this.each(function(){function t(t,e,i){if(0!=p.length)var a=Q+'<span id="'+g+'-value">'+p+"</span>"+z;else var a="";0==p.length&&0==c.length?jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).prepend(icon).css("half"==W?{"line-height":P+"px",height:P+"px",top:u/2-P+"px",color:b}:{"line-height":P+"px",height:P+"px",top:(u-P)/2+"px",color:b}):(1==F&&0!=p.length,"left"==T?jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).prepend(icon).css({"line-height":i+"px","font-size":w+"px",color:b}):jQuery("<span></span>").appendTo(t).addClass(e).attr("id",g+"-text").html(a).append(icon).css({"line-height":i+"px","font-size":w+"px",color:b}))}function a(t,e){jQuery("<span></span>").appendTo(t).addClass("circle-info-half").text(c).css({"line-height":u*e+"px","font-size":C+"px",color:I})}function n(t){jQuery.each(r,function(e,a){s[a]=void 0!=t.data(a)?t.data(a):jQuery(i).attr(a),"fill"==a&&void 0!=t.data("fill")&&(l=!0)})}function o(t){q.clearRect(0,0,_.width,_.height),q.beginPath(),q.arc(A,E,O,U,R,!1),q.lineWidth=x+1,q.strokeStyle=m,q.stroke(),l&&(q.fillStyle=s.fill,q.fill()),q.beginPath(),q.arc(A,E,O,-H,D*t-H,!1),"outline"==s.border?q.lineWidth=x+.75*x:"inline"==s.border&&(q.lineWidth=x-.75*x),q.strokeStyle=v,q.stroke(),k>V&&(V+=B,requestAnimationFrame(function(){o(Math.min(V,k)/100)},d)),V==k&&J&&"undefined"!=typeof e&&jQuery.isFunction(e.complete)&&(e.complete(),J=!1)}var r=["id","responsive","fgcolor","bgcolor","type","fill","width","dimension","maxsize","fontsize","fontcolor","infosize","infocolor","animationstep","endPercent","text","info","seperator","decimals","prefix","postfix","group","fontsize","icon","image","iconcolor","iconsize","iconposition","border"],s={},d=jQuery(this),l=!1,p="",c="";d.addClass("circliful"),n(d);var h=d.parent().width(),f=s.responsive,u=parseInt(s.dimension),g=s.id,x=parseInt(s.width),y=parseInt(s.maxsize);u=1==f?h>y?y:h:u;var v=s.fgcolor,m=s.bgcolor,j=s.animationstep,Q=s.prefix,z=s.postfix,w=s.fontsize,b=s.fontcolor,C=s.infosize,I=s.infocolor,P=s.iconsize,M=s.iconcolor,T=s.iconposition;if(void 0!=d.data("total")&&void 0!=d.data("part"))var S=d.data("total")/100,k=((d.data("part")/S/100).toFixed(3),(d.data("part")/S).toFixed(3));else if(void 0!=d.data("percent"))var k=(d.data("percent")/100,d.data("percent"));else var k=(i.percent/100,0);if(void 0!=d.data("text")){if(p=d.data("text"),0!=p.length?(Q=jQuery(this).data("prefix"),z=jQuery(this).data("postfix")):(p="",Q="",z=""),void 0!=d.data("icon")&&"transparent"!=d.data("icon")){icon=jQuery("<i></i>").addClass("ts-font-icon circle-icon "+d.data("icon")).attr("id",g+"-icon").css({color:M,"font-size":P+"px",height:P+"px",width:P+"px","line-height":P+"px",margin:0!=p.length?"0 5px":0});var F=!0}else if(void 0!=d.data("image")&&""!=d.data("image")){icon=jQuery('<img src="'+d.data("image")+'">').addClass("ts-font-icon circle-image").attr("id",g+"-image").css({"font-size":P+"px",height:P+"px",width:P+"px","line-height":P+"px",margin:0!=p.length?"0 5px":0});var F=!0}else{icon="";var F=!1}if(void 0!=d.data("type")){var W=d.data("type");"half"==W?t(d,"circle-text-half",u/1.45):t(d,"circle-text",u)}else{var W=i.type;t(d,"circle-text",u)}}void 0!=jQuery(this).data("info")&&(c=d.data("info"),0!=c.length&&(void 0!=jQuery(this).data("type")?(W=d.data("type"),"half"==W?a(d,.9):a(d,1.25)):a(d,1.25))),jQuery(this).width(u+"px");var _=jQuery("<canvas></canvas>").attr({width:u,height:u}).appendTo(jQuery(this)).get(0),q=_.getContext("2d"),A=_.width/2,E=_.height/2,G=360*s.percent,O=(G*(Math.PI/180),.4*_.width),R=(.1*_.width,2.3*Math.PI),U=0,V=0===j?k:0,B=Math.max(j,0),D=2*Math.PI,H=Math.PI/2,W="",J=!0;void 0!=jQuery(this).data("type")&&(W=jQuery(this).data("type"),"half"==W&&(R=2*Math.PI,U=3.13,D=1*Math.PI,H=Math.PI/.996,d.css("margin-bottom","-"+u/2+"px"))),jQuery(this).attr("data-size",jQuery(this).parent().width()),jQuery(this).waypoint({handler:function(){if(jQuery(this).attr("data-view","true"),0!=p.length){var t=jQuery(this).attr("data-decimals"),e=jQuery(this).attr("data-group"),i=jQuery(this).attr("data-seperator"),a=new countUp(g+"-value",0,p,parseInt(t),1.5,{useEasing:!0,useGrouping:!0,separator:e,decimal:i});a.start()}o(V/100)},offset:"85%",triggerOnce:!0})})}}(jQuery);