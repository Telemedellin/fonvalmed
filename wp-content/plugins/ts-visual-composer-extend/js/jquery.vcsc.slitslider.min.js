!function(t,s,e){"use strict";var i=t(s),o=t(document);t.TS_Slitslider=function(s,e){this.$elWrapper=t(e),this._init(s)},t.TS_Slitslider.defaults={speed:800,optOpacity:!1,translateFactor:230,maxAngle:90,maxScale:3,autoPlay:!1,showProgress:!0,progressColor:"#333333",progressHeight:2,progressPosition:"top",pauseHover:!0,interval:4e3,keyboard:!0,niceScroll:!0,scrollColor:"#ededed",scrollBorder:"#f7f7f7",onBeforeChange:function(){return!1},onAfterChange:function(){return!1}},t.TS_Slitslider.prototype={_init:function(e){this.options=t.extend(!0,{},t.TS_Slitslider.defaults,e),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=s.Modernizr.prefixed?this.transEndEventNames[s.Modernizr.prefixed("transition")]:this.transEndEventNames[TS_VCSC_StyleSupport("transition")],this.support=s.Modernizr.csstransforms3d?s.Modernizr.csstransitions&&s.Modernizr.csstransforms3d:TS_VCSC_Supports3D(),this.$el=this.$elWrapper.children(".ts-slit-slider"),this.$slides=this.$el.children(".ts-slit-slide").hide(),this.slidesCount=this.$slides.length,this.current=0,this.isAnimating=!1,this._getSize(),this._layout(),this._loadEvents(),this.options.niceScroll&&this.$elWrapper.find(".ts-slit-slide-inner-message").niceScroll({cursorcolor:this.options.scrollColor,cursoropacitymin:0,cursoropacitymax:1,cursorwidth:"8px",cursorborder:"1px solid "+this.options.scrollBorder,cursorborderradius:"5px",zindex:"auto",scrollspeed:60,mousescrollstep:40,touchbehavior:!0,hwacceleration:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!1,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,hidecursordelay:500,directionlockdeadzone:6,nativeparentscrolling:!0,enablescrollonselection:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!0,oneaxismousemode:"auto",scriptpath:"",preventmultitouchscrolling:!0}),this.options.autoPlay&&(this.isPlaying=!0,this._startSlideshow())},_getSize:function(){this.size={width:this.$elWrapper.outerWidth(!1),height:this.$elWrapper.outerHeight(!0)}},_layout:function(){var s=this;s.options.autoPlay&&s.options.showProgress&&t('<div class="ts-slit-slider-progress" style="background: '+s.options.progressColor+"; height: "+s.options.progressHeight+"px; "+("top"==s.options.progressPosition?"top: 0; bottom: auto;":"top: auto; bottom: 0;")+'"></div>').prependTo(s.$elWrapper),s.$slideProgress=s.$elWrapper.find(".ts-slit-slider-progress"),s.$slideRotateTime=parseInt(s.options.interval)/1e3,s.$slideRotateActive=!0,s.$slideRotateIsHover=!1,s.$slideRotateIsOnHold=!1,s.$slideRotateIsPause=!1,s.$slideRotateStart=0,s.$slideRotateFinish=0,s.$slideRotateHoverTime=0,s.options.autoPlay&&s.options.pauseHover&&(s.$elWrapper.on("mouseenter touchstart",function(){s.$slideRotateIsHover=!0,clearInterval(s.slideshow),s.options.showProgress&&s.$slideProgress.css("width","0%")}),s.$elWrapper.on("mouseleave touchend",function(){s.$slideRotateIsHover=!1,s.isPlaying&&s._startSlideshow()})),this.$slideWrapper=t('<div class="ts-slit-slides-wrapper" />'),this.$slides.wrapAll(this.$slideWrapper).each(function(){var s=t(this),e=s.data("orientation");s.addClass("ts-slit-slide-"+e).children().wrapAll('<div class="ts-slit-content-wrapper" />').wrapAll('<div class="ts-slit-content" />')}),this._setSize(),this.$slides.eq(this.current).show()},_navigate:function(s,i){if(this.isAnimating||this.slidesCount<2)return!1;this.isAnimating=!0;var o=this,n=this.$slides.eq(this.current);i!==e?this.current=i:"next"===s?this.current=this.current<this.slidesCount-1?++this.current:0:"prev"===s&&(this.current=this.current>0?--this.current:this.slidesCount-1),this.options.onBeforeChange(n,this.current);var a=this.$slides.eq(this.current),r="next"===s?n:a,l=r.data(),d={};d.orientation=l.orientation||"horizontal",d.slice1angle=l.slice1Rotation||0,d.slice1scale=l.slice1Scale||1,d.slice2angle=l.slice2Rotation||0,d.slice2scale=l.slice2Scale||1,this._validateValues(d);var c="horizontal"===d.orientation?{marginTop:-this.size.height/2}:{marginLeft:-this.size.width/2},h={transform:"translate(0%,0%) rotate(0deg) scale(1)",opacity:1},p="horizontal"===d.orientation?{transform:"translateY(-"+this.options.translateFactor+"%) rotate("+d.slice1angle+"deg) scale("+d.slice1scale+")"}:{transform:"translateX(-"+this.options.translateFactor+"%) rotate("+d.slice1angle+"deg) scale("+d.slice1scale+")"},u="horizontal"===d.orientation?{transform:"translateY("+this.options.translateFactor+"%) rotate("+d.slice2angle+"deg) scale("+d.slice2scale+")"}:{transform:"translateX("+this.options.translateFactor+"%) rotate("+d.slice2angle+"deg) scale("+d.slice2scale+")"};this.options.optOpacity&&(p.opacity=0,u.opacity=0),n.removeClass("ts-slit-trans-elems");var v={transition:"all "+this.options.speed+"ms ease-in-out"};r.css("z-index",this.slidesCount).find("div.ts-slit-content-wrapper").wrap(t('<div class="ts-slit-content-slice" />').css(v)).parent().cond("prev"===s,function(){var t=this;this.css(p),setTimeout(function(){t.css(h)},50)},function(){var t=this;setTimeout(function(){t.css(p)},50)}).clone().appendTo(r).cond("prev"===s,function(){var t=this;this.css(u),setTimeout(function(){n.addClass("ts-slit-trans-back-elems"),o.support?t.css(h).on(o.transEndEventName,function(){o._onEndNavigate(t,n,s)}):o._onEndNavigate(t,n,s)},50)},function(){var t=this;setTimeout(function(){a.addClass("ts-slit-trans-elems"),o.support?t.css(u).on(o.transEndEventName,function(){o._onEndNavigate(t,n,s)}):o._onEndNavigate(t,n,s)},50)}).find("div.ts-slit-content-wrapper").css(c),a.show()},_validateValues:function(t){(t.slice1angle>this.options.maxAngle||t.slice1angle<-this.options.maxAngle)&&(t.slice1angle=this.options.maxAngle),(t.slice2angle>this.options.maxAngle||t.slice2angle<-this.options.maxAngle)&&(t.slice2angle=this.options.maxAngle),(t.slice1scale>this.options.maxScale||t.slice1scale<=0)&&(t.slice1scale=this.options.maxScale),(t.slice2scale>this.options.maxScale||t.slice2scale<=0)&&(t.slice2scale=this.options.maxScale),"vertical"!==t.orientation&&"horizontal"!==t.orientation&&(t.orientation="horizontal")},_onEndNavigate:function(t,s){var e=t.parent(),i="ts-slit-trans-elems ts-slit-trans-back-elems";t.remove(),e.css("z-index",1).find("div.ts-slit-content-wrapper").unwrap(),s.hide().removeClass(i),e.removeClass(i),this.isAnimating=!1,this.options.onAfterChange(e,this.current)},_setSize:function(){var t={width:this.size.width,height:this.size.height};this.$el.css(t).find("div.ts-slit-content-wrapper").css(t),this.options.niceScroll&&this.$el.find(".ts-slit-slide-inner-message").getNiceScroll().resize()},_loadEvents:function(){var t=this;i.on("debouncedresize.slitslider",function(){t._getSize(),t._setSize()}),this.options.keyboard&&o.on("keydown.slitslider",function(s){var e=s.keyCode||s.which,i={left:37,up:38,right:39,down:40};switch(e){case i.left:t._stopSlideshow(),t._navigate("prev");break;case i.right:t._stopSlideshow(),t._navigate("next")}})},_startSlideshow:function(){var t=this;if(clearInterval(t.slideshow),t.$slideRotateActive&&!t.$slideRotateIsHover)if(t.options.showProgress){t.$slideProgress.css("width","0%"),t.$slideRotateIsPause=!1;var s=100,e=1e3,i=60*e,o=3600*e,n=86400*e;t.$slideRotateStart=(new Date).setTime((new Date).getTime()+0),t.$slideRotateFinish=(new Date).setTime((new Date).getTime()+1e3*t.$slideRotateTime),t.iDuration=t.$slideRotateFinish-t.$slideRotateStart,t.slideshow=setInterval(function(){if(t.$slideRotateActive){if(t.$slideRotateIsPause===!1){t.$slideRotateHoverTime>0&&(t.$slideRotateFinish=t.$slideRotateFinish+t.$slideRotateHoverTime,t.$slideRotateStart=t.$slideRotateStart+t.$slideRotateHoverTime,t.iDuration=t.$slideRotateFinish-t.$slideRotateStart,t.$slideRotateHoverTime=0);var a=t.$slideRotateFinish-new Date,r=new Date-t.$slideRotateStart,l=parseInt(a/n),d=parseInt((a-l*n)/o),c=parseInt((a-l*n-d*o)/i),h=(parseInt((a-l*n-c*i-d*o)/e),r>0?r/t.iDuration*s:0);t.$slideProgress.css("width",h+"%").attr("data-progress",h)}h>=100&&(t.$slideProgress.css("width","100%"),setTimeout(function(){t._navigate("next"),t._restartSlideShow()},s))}},s)}else t.slideshow=setInterval(function(){t._navigate("next"),t._restartSlideShow()},t.options.interval)},_restartSlideShow:function(){var t=this;clearInterval(t.slideshow),t.$slideProgress.css("width","0%"),setTimeout(function(){t.options.autoPlay&&t._startSlideshow()},t.options.speed)},_stopSlideshow:function(){var t=this;t.$slideProgress.css("width","0%"),t.options.autoPlay&&(clearTimeout(t.slideshow),t.isPlaying=!1,t.options.autoPlay=!1)},_destroy:function(s){this.$el.off(".slitslider").removeData("slitslider"),i.off(".slitslider"),o.off(".slitslider"),this.$slides.each(function(){var s=t(this),e=s.find("div.ts-slit-content").children();e.appendTo(s),s.children("div.ts-slit-content-wrapper").remove()}),this.$slides.unwrap(this.$slideWrapper).hide(),this.$slides.eq(0).show(),s&&s.call()},add:function(s,e){this.$slides=this.$slides.add(s);var i=this;s.each(function(){var s=t(this),e=s.data("orientation");s.hide().addClass("ts-slit-slide-"+e).children().wrapAll('<div class="ts-slit-content-wrapper" />').wrapAll('<div class="ts-slit-content" />').end().appendTo(i.$el.find("div.ts-slit-slides-wrapper"))}),this._setSize(),this.slidesCount=this.$slides.length,e&&e.call($items)},next:function(){var t=this;t._stopSlideshow(),t._navigate("next")},previous:function(){var t=this;t._stopSlideshow(),t._navigate("prev")},jump:function(t){return t-=1,t===this.current||t>=this.slidesCount||0>t?!1:(this._stopSlideshow(),void this._navigate(t>this.current?"next":"prev",t))},play:function(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoPlay=!0,this._startSlideshow())},pause:function(){this.isPlaying&&this._stopSlideshow()},resize:function(){this._getSize(),this._setSize()},isActive:function(){return this.isAnimating},destroy:function(t){this._destroy(t)}};var n=function(t){s.console&&s.console.error(t)};t.fn.TS_VCSC_SlitSlider=function(s){var e=t.data(this,"slitslider");if("string"==typeof s){var i=Array.prototype.slice.call(arguments,1);this.each(function(){return e?t.isFunction(e[s])&&"_"!==s.charAt(0)?void e[s].apply(e,i):void n("no such method '"+s+"' for slitslider self"):void n("cannot call methods on slitslider prior to initialization; attempted to call method '"+s+"'")})}else this.each(function(){e?e._init():e=t.data(this,"slitslider",new t.TS_Slitslider(s,this))});return e}}(jQuery,window);