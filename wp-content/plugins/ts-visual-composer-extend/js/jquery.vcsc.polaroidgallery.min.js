!function(t){t.fn.TS_VCSC_PolaroidGallery=function(e){function o(){sa.hide()}function r(){}function n(){}function s(t){var e=oa.find("div.ts-polaroid-gallery-slide"),o=oa.find("div.ts-polaroid-gallery-item-"+t),r=fa-1,n=o.prevAll().length,s=0,d=[];if(G>=fa)e.removeClass("ts-polaroid-gallery-slide-active").addClass("ts-polaroid-gallery-slide-sibling"),o.removeClass("ts-polaroid-gallery-slide-sibling").addClass("ts-polaroid-gallery-slide-active");else{if(t==r){for(a=r-1;a>r-G;a--)d.push(a);d.push(0)}else if(0==t){for(a=r;a>r-G+1;a--)d.push(a);d.push(1)}else if(G>n){for(s=G-n,a=t-G+1;t>a;a++)d.push(a>=0?a:a+n+s+1);d.push(t+1)}else if(n>=G){for(a=t-G+1;t>a;a++)d.push(a);d.push(t+1)}for(e.removeClass("ts-polaroid-gallery-slide-active").removeClass("ts-polaroid-gallery-slide-sibling").addClass("ts-polaroid-gallery-slide-hidden"),i=0;fa>i;i++)i==t?o.removeClass("ts-polaroid-gallery-slide-hidden").addClass("ts-polaroid-gallery-slide-active"):jQuery.inArray(i,d)>=0&&oa.find("div.ts-polaroid-gallery-item-"+i).removeClass("ts-polaroid-gallery-slide-hidden").addClass("ts-polaroid-gallery-slide-sibling");K&&na.text(fa-t+" / "+fa)}}function d(){var a,e,i,n,s,d,l,c,p,h,f,g,m=0,v=oa.find("div.ts-polaroid-gallery-slide");fa=v.length,v.each(function(){Ra.push(t(this))});var b=t(Ra[0]);for(ga=b.width(),ma=b.height(),la=ma/ga,ca=ga/ma,c=b.find("div.ts-polaroid-gallery-wrapper"),ua=c.height()/c.width(),pa=(b.width()-c.width())/2,m=0;fa>m;m++){for(d=t(Ra[m]),d.attr("data-current-id",m),d.attr("data-original-id",m),d.addClass("ts-polaroid-gallery-item-"+m),d.css("zIndex",m+Ca).transition({top:"0px",left:"0px",rotate:"0deg"}),X?(l=W(Wa,Da),Math.abs(l)>Ia&&(Ia=Math.abs(l),f=Math.abs(l),g=m),m!=fa-1&&d.css({rotate:l+"deg"})):(p=35*Math.random(),h=25*Math.random(),p>La&&(La=p),h>za&&(za=h),Aa>p&&(Aa=p),Pa>h&&(Pa=h),d.css("top",p+"px"),d.css("left",h+"px"),d.data("origTop",p),d.data("origLeft",h)),d.find("a.ts-polaroid-gallery-link-lightbox").on("click",function(t){return t.preventDefault(),_a=!0,V&&I(),r(),!1}),D(Ta,m)&&(d.bind("dragstart",function(t){return t.preventDefault(),!1}).bind("selectstart",function(t){return t.preventDefault(),!1}),d.touchSwipe(C,!0)),j=0,n=d.find("div.ts-polaroid-gallery-caption"),Ha.push(n),a=n.find("div"),e=a.length,i=[],j;e>j;j++)s=a.eq(j),s.css("opacity",0),i.push(s);e>0&&(d.data("caption_list",n),d.data("captionSubArr",i))}Wa=Ia,Da=-Ia,X?(d=t(Ra[g]),d.data("max_rot",f),va=ga,ba=ma):(va=za+ga-Pa,ba=La+ma-Aa),u(),M(fa-1),ia.css("opacity",1),Ua&&(Ua.css("opacity",0),Ua.css("display","block"),Ua.stop().transition({opacity:1,duration:1e3,easing:"easeOutSine",complete:function(){}})),K?na.show().css("opacity",1):na.hide().css("opacity",0),ta=!0,o()}function l(t){var a=t*Math.PI/180,e=Math.cos(a),i=Math.sin(a),o=ga,r=ma;xa=Math.round(o*Math.abs(e)+r*Math.abs(i)),wa=Math.round(o*Math.abs(i)+r*Math.abs(e)),$a=wa-ma,qa=xa-ga}function c(t,a,e){var i=t*Math.PI/180,o=Math.cos(i),r=Math.sin(i),n=a,s=e,d=o*n,l=r*n,c=-r*s,u=o*s,p=o*n-r*s,h=r*n+o*s,f=Math.min(0,d,c,p),g=Math.max(0,d,c,p),m=Math.min(0,l,u,h),v=Math.max(0,l,u,h);Ma=Math.round(g-f),ya=Math.round(v-m)}function u(){var a,e,i,o,r=0,n=0,s=0,d=0,u=0;currentRotation=0,stackHeightTop=0,stackHeightBottom=0,stackHeightFinal=0;var h=parseInt(ia.attr("data-lastwidth")),f=ia.width();if(h==f)return!1;X&&l(Ia);var g=O("w"),m=O("h");for(r;fa>r;r++){if(a=t(Ra[r]),e=a.find("div.ts-polaroid-gallery-wrapper"),N||va>g||ba>m||xa>g||wa>m){if(X){var v={};v.width=m/(ma+$a)*ga,v.height=m,c(Ia,v.width,v.width*la),Sa="width",(Ma-1>g||ya-1>m)&&(v.height=g/(ga+qa)*ma,v.width=g,Sa="height")}else var v=p(ia,ga,ma,!0);i=v.width,o=v.height}else i=ga,o=ma;a&&("width"==Sa?(a.width(i),a.height(i*la)):(a.height(o),a.width(o*ca))),e&&("width"==Sa?(e.width(i-2*pa),e.height(a.width()*la-2*pa)):(e.height(o-2*pa),e.width(a.height()*ca-2*pa)))}oa.css(X?"width"==Sa?{left:"50%",top:"50%",width:i+"px",height:a.width()*la+"px",marginLeft:-i/2+"px",marginTop:-(a.width()*la)/2+"px"}:{left:"50%",top:"50%",height:o+"px",width:a.height()*ca+"px",marginLeft:-(a.height()*ca)/2+"px",marginTop:-(a.width()*la)/2+"px"}:{left:"50%",top:"50%",width:i+"px",height:a.width()*la+"px",marginLeft:-i/2-(za+Pa)/2+"px",marginTop:-(a.width()*la)/2-(La+Aa)/2+"px"});var b,x,r=0,w=Ha.length;for(r;w>r;r++)b=t(Ha[r]),b.find("div").each(function(){x=t(this),x.removeClass("ts-polaroid-gallery-caption-small").removeClass("ts-polaroid-gallery-caption-medium").removeClass("ts-polaroid-gallery-caption-large"),O("w")<=570||O("h")<=320?x.addClass("ts-polaroid-gallery-caption-small"):O("w")<=767||O("h")<=570?x.addClass("ts-polaroid-gallery-caption-medium"):(O("w")<=959||O("h")<=767)&&x.addClass("ts-polaroid-gallery-caption-large")});for(r=0;fa>r;r++)div=t(Ra[r]),div.height()>n&&(n=div.height()),div.width()>s&&(s=div.width()),X&&(currentRotation=div.css("rotate").replace("deg",""),currentRotation>d&&(d=currentRotation),u>currentRotation&&(u=currentRotation));stackHeightTop=y(d,s,n),stackHeightBottom=y(u,s,n),stackHeightFinal=stackHeightTop[1]>stackHeightBottom[1]?Math.ceil(stackHeightTop[1])+2*Y:Math.ceil(stackHeightBottom[1])+2*Y,stackHeightFinal>0?(ia.css("height",(stackHeightFinal>q?q:stackHeightFinal)+"px"),ia.attr("data-lastheight",stackHeightFinal>q?q:stackHeightFinal)):(ia.css("height",(n+2*Y>q?q:n+2*Y)+"px"),ia.attr("data-lastheight",n+2*Y>q?q:n+2*Y)),ia.attr("data-lastwidth",f),oa.show(),na.show(),Ua.show(),sa.hide()}function p(t,a,e,i){var o={},r=0,n=0,s=O("w")-(va-ga),d=O("h")-(ba-ma),l=a,c=e,u=(s-r)/(d-n),p=l/c;return u>p?i?(o.width=(d-n)/c*l,o.height=d-n):(o.height=(s-r)/l*c,o.width=s-r):p>u?i?(o.height=(s-r)/l*c,o.width=s-r):(o.width=(d-n)/c*l,o.height=d-n):(o.width=s-r,o.height=d-n),o}function h(){var a=t(Ra[0]);X?(Oa=a.outerHeight()+100,ka=a.outerWidth()+50):(Oa=a.outerHeight()+10,ka=a.outerWidth()+5)}function f(a,e){var i=fa-1,o=parseInt(t(Ra[i]).attr("data-original-id"),10);n(o),void 0!=Ra[i].data("captionSubArr")&&w(i);var r;r=t(a?e?B(a):P(a):P(i));var s=W(Fa,Qa),d=W(Wa,Da),l=0,c=0;if(h(),"verticalAbove"==U||"verticalRound"==U)X?ea?r.animate({top:-Oa+"px"},{duration:ja,easing:"easeOutSine",step:function(t){c=Math.round(t*ja/Oa),l=-(c*s/ja),setTimeout(function(){r.css("-webkit-transform","rotate("+l+"deg)")},65)},complete:function(){m(r,d,l,a,e)}}):r.transition({rotate:s+"deg",top:-Oa+"px",duration:ja,easing:"easeOutCubic",complete:function(){m(r,d,l,a,e)}}):r.transition({top:-Oa+"px",duration:ja,easing:"easeOutCubic",complete:function(){m(r,d,l,a,e)}});else{var u="horizontalLeft"==U?-ka:ka;X?ea?r.animate({left:u+"px"},{duration:ja,easing:"easeOutSine",step:function(t){c=Math.round(t*ja/u),l="horizontalLeft"==U?c*s/ja:-(c*s/ja),setTimeout(function(){r.css("-webkit-transform","rotate("+l+"deg)")},65)},complete:function(){v(r,d,l,a,e)}}):r.transition({rotate:s+"deg",left:u+"px",duration:ja,easing:"easeOutCubic",complete:function(){v(r,d,l,a,e)}}):r.transition({left:u+"px",duration:ja,easing:"easeOutCubic",complete:function(){v(r,d,l,a,e)}})}}function g(){var a=t(Ra[fa-1]).attr("data-current-id"),e=parseInt(t(Ra[a]).attr("data-original-id"),10);n(e),void 0!=Ra[a].data("captionSubArr")&&w(a);var i=t(P(0)),o=W(Fa,Qa),r=W(Wa,Da),s=0,d=0;if(h(),"verticalAbove"==U||"verticalRound"==U){var l="verticalRound"==U?Oa:-Oa;X?ea?i.animate({top:l+"px"},{duration:ja,easing:"easeOutSine",step:function(t){d=Math.round(t*ja/l),s="verticalRound"==U?-(d*o/ja):d*o/ja,setTimeout(function(){i.css("-webkit-transform","rotate("+s+"deg)")},65)},complete:function(){b(i,r,s)}}):i.transition({rotate:o+"deg",top:l+"px",duration:ja,easing:"easeOutCubic",complete:function(){b(i,r)}}):i.transition({top:l+"px",duration:ja,easing:"easeOutCubic",complete:function(){b(i)}})}else{var c="horizontalLeft"==U?-ka:ka;X?ea?i.animate({left:c+"px"},{duration:ja,easing:"easeOutSine",step:function(t){d=Math.round(t*ja/c),s="horizontalLeft"==U?-(d*o/ja):d*o/ja,setTimeout(function(){i.css("-webkit-transform","rotate("+s+"deg)")},65)},complete:function(){x(i,r,s)}}):i.transition({rotate:o+"deg",left:c+"px",duration:ja,easing:"easeOutCubic",complete:function(){x(i,r)}}):i.transition({left:c+"px",duration:ja,easing:"easeOutCubic",complete:function(){x(i)}})}}function m(a,e,i,o,r){if(o){if(r){var n=t(B(o));o=n.attr("data-current-id")}var s=Ra[o];Ra.splice(o,1),Ra.push(s),F()}else Ra.unshift(Ra.pop()),F();void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10));var d=e;if(X)if(ea){var l,c,u,p=0,h=0,f=i,g=parseInt(a.css("top"),10);o&&(e=0),0>i&&0>e&&i>e?(l=Math.abs(Math.abs(i)-Math.abs(e)),c="-"):i>0&&e>0&&i>e?(l=i-e,c="-"):i>0&&0>e?(l=i+Math.abs(e),c="-"):0>i&&0>e&&e>i?(l=Math.abs(Math.abs(i)-Math.abs(e)),c="+"):i>0&&e>0&&e>i?(l=e-i,c="+"):0>i&&e>0?(l=Math.abs(i)+e,c="+"):0==i&&e>0?(l=e,c="+"):i>0&&0==e?(l=i,c="-"):0>i&&0==e?(l=Math.abs(i),c="+"):0==i&&0>e&&(l=Math.abs(e),c="-"),a.animate({top:"0px"},{duration:Ba,easing:"easeOutSine",step:function(t){h=-Math.round(t*Ba/g-Ba),p=h*l/Ba,setTimeout(function(){"+"==c?(u=f+p,a.css("-webkit-transform","rotate("+u+"deg)")):(u=f-p,a.css("-webkit-transform","rotate("+u+"deg)"))},65)}})}else a.transition(o?{rotate:"0deg",top:"0px",duration:Ba,easing:"easeOutExpo"}:{rotate:e+"deg",top:"0px",duration:Ba,easing:"easeOutExpo"});else{var m=0;void 0!=a.data("origTop")&&(m=parseInt(a.data("origTop"),10)),a.transition({top:m+"px",duration:Ba,easing:"easeOutExpo"})}if(X)if(o){var v=t(Ra[fa-2]);v.transition({rotate:d+"deg",duration:Ba,easing:"easeOutSine"})}else{var b=t(Ra[fa-1]);b.transition({rotate:"0deg",duration:Ba,easing:"easeOutExpo"})}ha&&clearTimeout(ha),ha=setTimeout(k,Ba)}function v(a,e,i,o,r){if(o){if(r){var n=t(B(o));o=n.attr("data-current-id")}var s=Ra[o];Ra.splice(o,1),Ra.push(s),F()}else Ra.unshift(Ra.pop()),F();void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10));var d=e;if(X)if(ea){var l,c,u,p=0,h=0,f=i,g=parseInt(a.css("left"),10);o&&(e=0),0>i&&0>e&&i>e?(l=Math.abs(Math.abs(i)-Math.abs(e)),c="-"):i>0&&e>0&&i>e?l="-":i>0&&0>e?(l=i+Math.abs(e),c="-"):0>i&&0>e&&e>i?(l=Math.abs(Math.abs(i)-Math.abs(e)),c="+"):i>0&&e>0&&e>i?(l=e-i,c="+"):0>i&&e>0?(l=Math.abs(i)+e,c="+"):0==i&&e>0?(l=e,c="+"):i>0&&0==e?(l=i,c="-"):0>i&&0==e?(l=Math.abs(i),c="+"):0==i&&0>e&&(l=Math.abs(e),c="-"),a.animate({left:"0px"},{duration:Ba,easing:"easeOutSine",step:function(t){h=-Math.round(t*Ba/g-Ba),p=h*l/Ba,setTimeout(function(){"+"==c?(u=f+p,a.css("-webkit-transform","rotate("+u+"deg)")):(u=f-p,a.css("-webkit-transform","rotate("+u+"deg)"))},65)}})}else a.transition(o?{rotate:"0deg",left:"0px",duration:Ba,easing:"easeOutExpo"}:{rotate:e+"deg",left:"0px",duration:Ba,easing:"easeOutExpo"});else{var m=0;void 0!=a.data("origLeft")&&(m=parseInt(a.data("origLeft"),10)),a.transition({left:m+"px",duration:Ba,easing:"easeOutExpo"})}if(X)if(o){var v=t(Ra[fa-2]);v.transition({rotate:d+"deg",duration:Ba,easing:"easeOutSine"})}else{var b=t(Ra[fa-1]);b.transition({rotate:"0deg",duration:Ba,easing:"easeOutExpo"})}ha&&clearTimeout(ha),ha=setTimeout(k,Ba)}function b(a,e,i){if(Ra.push(Ra.shift()),Q(),void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10)),X){var o=t(Ra[fa-2]);if(o.transition({rotate:e+"deg",duration:Ba,easing:"easeOutSine"}),ea){var r,n,s=Math.abs(i),d=0,l=0,c=i,u=parseInt(a.css("top"),10);i>0?r="-":0>i&&(r="+"),a.animate({top:"0px"},{duration:Ba,easing:"easeOutSine",step:function(t){l=-Math.round(t*Ba/u-Ba),d=l*s/Ba,setTimeout(function(){"+"==r?(n=Math.floor(c+d),a.css("-webkit-transform","rotate("+n+"deg)")):(n=Math.floor(c-d),a.css("-webkit-transform","rotate("+n+"deg)"))},65)},complete:function(){M(a.attr("data-current-id"))}})}else a.transition({rotate:"0deg",top:"0px",duration:Ba,easing:"easeOutExpo",complete:function(){M(a.attr("data-current-id"))}})}else{var p=0;void 0!=a.data("origTop")&&(p=parseInt(a.data("origTop"),10)),a.transition({top:p+"px",duration:Ba,easing:"easeOutExpo",complete:function(){M(a.attr("data-current-id"))}})}}function x(a,e,i){if(Ra.push(Ra.shift()),Q(),void 0!=a.data("max_rot")&&(e=parseInt(a.data("max_rot"),10)),X){var o=t(Ra[fa-2]);if(o.transition({rotate:e+"deg",duration:Ba,easing:"easeOutSine"}),ea){var r,n,s=Math.abs(i),d=0,l=0,c=i,u=parseInt(a.css("left"),10);i>0?r="-":0>i&&(r="+"),a.animate({left:"0px"},{duration:Ba,easing:"easeOutSine",step:function(t){l=-Math.round(t*Ba/u-Ba),d=l*s/Ba,setTimeout(function(){"+"==r?(n=Math.floor(c+d),a.css("-webkit-transform","rotate("+n+"deg)")):(n=Math.floor(c-d),a.css("-webkit-transform","rotate("+n+"deg)"))},65)},complete:function(){M(a.attr("data-current-id"))}})}else a.transition({rotate:"0deg",left:"0px",duration:Ba,easing:"easeOutExpo",complete:function(){M(a.attr("data-current-id"))}})}else{var p=0;void 0!=a.data("origLeft")&&(p=parseInt(a.data("origLeft"),10)),a.transition({left:p+"px",duration:Ba,easing:"easeOutExpo",complete:function(){M(a.attr("data-current-id"))}})}}function w(a){var e,i=0,o=Ra[a].data("captionSubArr"),r=Ra[a].data("caption_list"),n=o.length;for(i;n>i;i++)e=t(o[i]),e.stop().transition(i!=n-1?{opacity:0,duration:Ka,easing:"easeOutSine",complete:function(){}}:{opacity:0,duration:Ka,easing:"easeOutSine",complete:function(){r.css("display","none")}})}function M(a){var e=parseInt(t(Ra[a]).attr("data-original-id"),10);if(s(e),void 0!=Ra[a].data("captionSubArr")){var i,o=0,r=Ra[a].data("captionSubArr"),n=Ra[a].data("caption_list"),d=r.length;for(n.css("display","block"),o;d>o;o++)i=t(r[o]),i.css("opacity",0),i.css("left","-100px"),o!=d-1?i.delay(Ga*o).transition({opacity:1,left:"0px",duration:Ka,easing:"easeOutQuart",complete:function(){}}):o==d-1&&i.delay(Ga*o).transition({opacity:1,left:"0px",duration:Ka,easing:"easeOutQuart",complete:function(){R("on"),Ea=!1,T()}})}else R("on"),Ea=!1,T()}function y(t,a,e){var i=[],o=t/180*Math.PI;return $intWidthRotated=e*Math.abs(Math.sin(o))+a*Math.abs(Math.cos(o)),$intHeightRotated=e*Math.abs(Math.cos(o))+a*Math.abs(Math.sin(o)),i.push($intWidthRotated),i.push($intHeightRotated),i}function O(t){return"w"==t?ia.width():ia.height()}function k(){ha&&clearTimeout(ha),M(t(Ra[fa-1]).attr("data-current-id"))}function C(t){return ta?("right"==t?E():"left"==t&&_(),!1):!1}function T(){V&&!Xa&&S()}function I(){da&&clearTimeout(da),Ja.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play")}function S(){da&&clearTimeout(da),da=setTimeout(H,J),Ja.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause")}function H(){Ea=!0,R("off"),f()}function R(t){"on"==t?(Va.css("cursor","pointer"),Na.css("cursor","pointer")):(Va.css("cursor","default"),Na.css("cursor","default"))}function E(){Ea=!0,R("off"),g()}function _(){Ea=!0,R("off"),f()}function L(a){if(!ta)return!1;if(!a)var a=window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class");if("ts-polaroid-gallery-controls-prev"==i){if(Ea)return;E()}else if("ts-polaroid-gallery-controls-play"==i)$();else if("ts-polaroid-gallery-controls-next"==i){if(Ea)return;_()}return!1}function z(a){if(!ta)return!1;if(!a)var a=window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class"),o=t(e).find("span");return"ts-polaroid-gallery-controls-prev"==i?o.attr("class","ts-ecommerce-arrowleft2"):"ts-polaroid-gallery-controls-play"==i?V?o.attr("class","ts-ecommerce-pause"):o.attr("class","ts-ecommerce-play"):"ts-polaroid-gallery-controls-next"==i&&o.attr("class","ts-ecommerce-arrowright2"),!1}function A(a){if(!ta)return!1;if(!a)var a=window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation();var e=a.currentTarget,i=t(e).attr("class"),o=t(e).find("span");return"ts-polaroid-gallery-controls-prev"==i?o.attr("class","ts-ecommerce-arrowleft2"):"ts-polaroid-gallery-controls-play"==i?V?o.attr("class","ts-ecommerce-pause"):o.attr("class","ts-ecommerce-play"):"ts-polaroid-gallery-controls-next"==i&&o.attr("class","ts-ecommerce-arrowright2"),!1}function P(a){var e,i,o=0;for(o;fa>o&&(e=t(Ra[o]),i=e.attr("data-current-id"),i!=a);o++);return e}function B(a){var e,i,o=0;for(o;fa>o&&(e=t(Ra[o]),i=e.attr("data-original-id"),i!=a);o++);return e}function F(){var a,e=0;for(e;fa>e;e++)a=t(Ra[e]),a.attr("data-current-id",e),a.css("zIndex",e+Ca)}function Q(){var a,e=0;for(e;fa>e;e++)a=t(Ra[e]),a.attr("data-current-id",e),a.css("zIndex",e+Ca)}function W(t,a){return Math.random()*(a-t)+t}function D(t,a){for(var e=t.length;e--;)if(parseInt(t[e],10)===a)return!0;return!1}function $(){V?(I(),V=!1):(V=!0,Ea||S())}var q=(e.polaroidExternal,e.polaroidMaxHeight),G=e.polaroidStack,K=e.imageCounter,U=e.slideshowLayout,V=e.slideshowOn,J=e.slideshowDelay,N=e.fullSize,X=e.useRotation,Y=e.rotationMargin,Z=e.swipeOn,ta=!1,aa=function(){var t=document.createElement("div"),a="Khtml Ms O Moz Webkit".split(" "),e=a.length;return function(i){if(i in t.style)return!0;for(i=i.replace(/^[a-z]/,function(t){return t.toUpperCase()});e--;)if(a[e]+i in t.style)return!0;return!1}}();if(aa("transform"))var ea=!1;else var ea=!0;var ia=t(this),oa=ia.find(".ts-polaroid-gallery-images"),ra=oa.find(".ts-polaroid-gallery-slide"),na=ia.find(".ts-polaroid-gallery-counter"),sa=ia.find(".ts-polaroid-gallery-preloader");oa.css("zIndex",0);var da,la,ca,ua,pa,ha,fa,ga,ma,va,ba,xa,wa,Ma,ya,Oa,ka,Ca=1,Ta=Z.split(","),Ia=0,Sa="width",Ha=[],Ra=[],Ea=!1,_a=!1,La=0,za=0,Aa=500,Pa=500,ja=500,Ba=500,Fa=-25,Qa=-15,Wa=10,Da=-10,$a=0,qa=0,Ga=150,Ka=500,Ua=ia.find(".ts-polaroid-gallery-controls"),Va=Ua.find(".ts-polaroid-gallery-controls-prev"),Ja=Ua.find(".ts-polaroid-gallery-controls-play"),Na=Ua.find(".ts-polaroid-gallery-controls-next");Va.bind("click touchstart",L),Ja.bind("click touchstart",L),Na.bind("click touchstart",L),Va.bind("mouseover",z),Ja.bind("mouseover",z),Na.bind("mouseover",z),Va.bind("mouseout",A),Ja.bind("mouseout",A),Na.bind("mouseout",A),V?Ja.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"):Ja.find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play");var Xa=!1;return oa.mouseenter(function(){Xa=!0,V&&I()}).mouseleave(function(){Xa=!1,Ea||!V||_a||S()}),jQuery(window).on("debouncedresize",function(){if(!ta)return!1;var t=parseInt(ia.attr("data-maxheight")),a=parseInt(ia.attr("data-lastwidth")),e=(parseInt(ia.attr("data-lastheight")),ia.width()),i=0,o=oa.width()*Math.cos(Fa)+oa.height()*Math.sin(Fa);return e>o&&(i=(e-o)/2),na.css("topright"==ia.attr("data-position")||"bottomright"==ia.attr("data-position")?{right:Math.abs(i)+"px"}:{left:Math.abs(i)+"px"}),a==e?!1:(oa.hide(),na.hide(),Ua.hide(),sa.show(),ia.css({height:t+"px"}),oa.css({width:"100%",height:"100%"}),ra.css({width:"100%",height:"100%"}),setTimeout(function(){u()},1e3),void 0)}),d(),this}}(jQuery);