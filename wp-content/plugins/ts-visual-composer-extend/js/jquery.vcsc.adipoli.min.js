!function(i){i.fn.TS_VCSC_Adipoli=function(t){function e(t,e){for(var o=0;o<e.slices;o++){var a=Math.round(t.width()/e.slices);t.children(".adipoli-after").append(o==e.slices-1?i('<div class="adipoli-slice"></div>').css({left:a*o+"px",width:t.width()-a*o+"px",height:"0px",opacity:"0",background:'url("'+t.children("img").attr("src")+'") no-repeat -'+(a+o*a-a)+"px 0%",backgroundSize:t.width()+"px "+t.height()+"px"}):i('<div class="adipoli-slice"></div>').css({left:a*o+"px",width:a+"px",height:"0px",opacity:"0",background:'url("'+t.children("img").attr("src")+'") no-repeat -'+(a+o*a-a)+"px 0%",backgroundSize:t.width()+"px "+t.height()+"px"}))}}function o(t,e){for(var o=Math.round(t.width()/e.boxCols),a=Math.round(t.height()/e.boxRows),h=0;h<e.boxRows;h++)for(var r=0;r<e.boxCols;r++)t.children(".adipoli-after").append(r==e.boxCols-1?i('<div class="adipoli-box"></div>').css({opacity:0,left:o*r+"px",top:a*h+"px",width:t.width()-o*r+"px",height:a+"px",background:'url("'+t.children("img").attr("src")+'") no-repeat -'+(o+r*o-o)+"px -"+(a+h*a-a)+"px",backgroundSize:t.width()+"px "+t.height()+"px"}):i('<div class="adipoli-box"></div>').css({opacity:0,left:o*r+"px",top:a*h+"px",width:o+"px",height:a+"px",background:'url("'+t.children("img").attr("src")+'") no-repeat -'+(o+r*o-o)+"px -"+(a+h*a-a)+"px",backgroundSize:t.width()+"px "+t.height()+"px"}))}function a(i){for(var t,e,o=i.length;o;t=parseInt(Math.random()*o),e=i[--o],i[o]=i[t],i[t]=e);return i}function h(i){var t=document.createElement("canvas"),e=t.getContext("2d"),o=new Image;o.src=i,t.width=o.width,t.height=o.height,e.drawImage(o,0,0);for(var a=e.getImageData(0,0,t.width,t.height),h=0;h<a.height;h++)for(var r=0;r<a.width;r++){var s=4*h*a.width+4*r,c=(a.data[s]+a.data[s+1]+a.data[s+2])/3;a.data[s]=c,a.data[s+1]=c,a.data[s+2]=c}return e.putImageData(a,0,0,0,0,a.width,a.height),t.toDataURL()}var r=i.extend({startEffect:"transparent",hoverEffect:"normal",triggerEffect:"hover",imageOpacity:.5,animSpeed:300,fillColor:"#000",textColor:"#fff",overlayText:"",slices:10,boxCols:5,boxRows:3,popOutMargin:10,popOutShadow:10},t);return jQuery(this).one("loadadipoli",function(){i(this).wrap(function(){return'<div class="adipoli-wrapper '+i(this).attr("class")+'" style="width:'+i(this).width()+"px; height:"+i(this).height()+'px;"/>'});var t=i(this).width(),s=i(this).height();if(i(this).parent().append('<div class="adipoli-before '+i(this).attr("class")+'" style="display:none;width:'+i(this).width()+"px; height:"+i(this).height()+'px;"><img src="'+i(this).attr("src")+'" style="width:'+i(this).width()+"px; height:"+i(this).height()+'px;"/></div>'),i(this).parent().append('<div class="adipoli-after '+i(this).attr("class")+'" style="display:none;width:'+i(this).width()+"px; height:"+i(this).height()+'px;"></div>'),"transparent"==r.startEffect)i(this).hide(),i(this).siblings(".adipoli-before").css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.imageOpacity+')"',filter:"alpha(opacity="+100*r.imageOpacity+")","-moz-opacity":r.imageOpacity,"-khtml-opacity":r.imageOpacity,opacity:r.imageOpacity}).show();else if("grayscale"==r.startEffect){var c=i(this);c.hide(),c.siblings(".adipoli-before").show(),c.siblings(".adipoli-before").children("img").each(function(){this.src=h(this.src)})}else"normal"==r.startEffect?(i(this).hide(),i(this).siblings(".adipoli-before").show()):"overlay"==r.startEffect&&(c=i(this),c.hide(),i(this).siblings(".adipoli-before").html(r.overlayText).css({"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r.imageOpacity+')"',filter:"alpha(opacity="+100*r.imageOpacity+")","-moz-opacity":r.imageOpacity,"-khtml-opacity":r.imageOpacity,opacity:r.imageOpacity,background:r.fillColor,color:r.textColor}).fadeIn(),c.show());i(this).parent().bind("mouseenter",function(){if("normal"==r.hoverEffect){var h=i(this);h.children(".adipoli-after").html('<img src="'+h.children("img").attr("src")+'" style="width:'+t+"px; height:"+s+'px;"/>').fadeIn(r.animSpeed)}else if("popout"==r.hoverEffect){h=i(this);var c=h.children("img").width(),n=h.children("img").height();h.children(".adipoli-after").html('<img src="'+h.children("img").attr("src")+'" style="width:'+t+"px; height:"+s+'px;"/>');var p=h.children(".adipoli-after").children("img");p.width(c+2*r.popOutMargin),p.height(n+2*r.popOutMargin),h.children(".adipoli-after").width(c+2*r.popOutMargin),h.children(".adipoli-after").height(n+2*r.popOutMargin),h.children(".adipoli-after").css({left:"-"+r.popOutMargin+"px",top:"-"+r.popOutMargin+"px","box-shadow":"0px 0px "+r.popOutShadow+"px #000"}).show()}else if("sliceDown"==r.hoverEffect||"sliceDownLeft"==r.hoverEffect||"sliceUp"==r.hoverEffect||"sliceUpLeft"==r.hoverEffect||"sliceUpRandom"==r.hoverEffect||"sliceDownRandom"==r.hoverEffect){i(this).children(".adipoli-after").show(),e(i(this),r);var l=0,f=0,d=i(".adipoli-slice",i(this));("sliceDownLeft"==r.hoverEffect||"sliceUpLeft"==r.hoverEffect)&&(d=i(".adipoli-slice",i(this))._reverse()),("sliceUpRandom"==r.hoverEffect||"sliceDownRandom"==r.hoverEffect)&&(d=a(i(".adipoli-slice",i(this)))),d.each(function(){var t=i(this);"sliceDown"==r.hoverEffect||"sliceDownLeft"==r.hoverEffect?t.css({top:"0px"}):("sliceUp"==r.hoverEffect||"sliceUpLeft"==r.hoverEffect)&&t.css({bottom:"0px"}),f==r.slices-1?setTimeout(function(){t.animate({height:"100%",opacity:"1.0"},r.animSpeed,"",function(){})},100+l):setTimeout(function(){t.animate({height:"100%",opacity:"1.0"},r.animSpeed)},100+l),l+=50,f++})}else if("sliceUpDown"==r.hoverEffect||"sliceUpDownLeft"==r.hoverEffect){i(this).children(".adipoli-after").show(),e(i(this),r),l=0,f=0;var g=0;d=i(".adipoli-slice",i(this)),"sliceUpDownLeft"==r.hoverEffect&&(d=i(".adipoli-slice",i(this))._reverse()),d.each(function(){var t=i(this);0==f?(t.css("top","0px"),f++):(t.css("bottom","0px"),f=0),g==r.slices-1?setTimeout(function(){t.animate({height:"100%",opacity:"1.0"},r.animSpeed,"",function(){})},100+l):setTimeout(function(){t.animate({height:"100%",opacity:"1.0"},r.animSpeed)},100+l),l+=50,g++})}else if("fold"==r.hoverEffect||"foldLeft"==r.hoverEffect)i(this).children(".adipoli-after").show(),h=i(this),e(h,r),l=0,f=0,d=i(".adipoli-slice",h),"foldLeft"==r.hoverEffect&&(d=i(".adipoli-slice",i(this))._reverse()),d.each(function(){var t=i(this),e=t.width();t.css({top:"0px",height:"100%",width:"0px"}),f==r.slices-1?setTimeout(function(){t.animate({width:e,opacity:"1.0"},r.animSpeed,"",function(){})},100+l):setTimeout(function(){t.animate({width:e,opacity:"1.0"},r.animSpeed)},100+l),l+=50,f++});else if("boxRandom"==r.hoverEffect){i(this).children(".adipoli-after").show(),h=i(this),o(h,r);var m=r.boxCols*r.boxRows;f=0,l=0;var v=a(i(".adipoli-box",h));v.each(function(){var t=i(this);f==m-1?setTimeout(function(){t.animate({opacity:"1"},r.animSpeed,"",function(){})},100+l):setTimeout(function(){t.animate({opacity:"1"},r.animSpeed)},100+l),l+=20,f++})}else if("boxRain"==r.hoverEffect||"boxRainReverse"==r.hoverEffect||"boxRainGrow"==r.hoverEffect||"boxRainGrowReverse"==r.hoverEffect){i(this).children(".adipoli-after").show(),h=i(this),o(h,r),m=r.boxCols*r.boxRows,f=0,l=0;var x=0,w=0,u=new Array;u[x]=new Array,v=i(".adipoli-box",h),("boxRainReverse"==r.hoverEffect||"boxRainGrowReverse"==r.hoverEffect)&&(v=i(".adipoli-box",h)._reverse()),v.each(function(){u[x][w]=i(this),w++,w==r.boxCols&&(x++,w=0,u[x]=new Array)});for(var b=0;b<2*r.boxCols;b++){for(var y=b,E=0;E<r.boxRows;E++)y>=0&&y<r.boxCols&&(!function(t,e,o,a,h){var s=i(u[t][e]),c=s.width(),n=s.height();("boxRainGrow"==r.hoverEffect||"boxRainGrowReverse"==r.hoverEffect)&&s.width(0).height(0),a==h-1?setTimeout(function(){s.animate({opacity:"1",width:c,height:n},r.animSpeed/1.3,"",function(){})},100+o):setTimeout(function(){s.animate({opacity:"1",width:c,height:n},r.animSpeed/1.3)},100+o)}(E,y,l,f,m),f++),y--;l+=100}}}),i(this).parent().bind("mouseleave",function(){i(this).children(".adipoli-after").html("").hide()})}).each(function(){this.complete&&i(this).trigger("loadadipoli")}),i(this)},i.fn._reverse=[].reverse}(jQuery);